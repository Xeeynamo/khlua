ATTACK_PARAM = {}
ATTACK_PARAM[0] = {
  MagicFlag = 0,
  Rate1 = 0.25,
  Rate2 = 0.2,
  Speed = 0.2,
  Delay = 20,
  Homing = 1.5,
  Speed = 0.12
}
ATTACK_PARAM[1] = {
  MagicFlag = 0,
  Rate1 = 0.15,
  Rate2 = 0.05
}
ATTACK_PARAM[2] = {
  MagicFlag = 0,
  Rate1 = 0.15,
  Rate2 = 0.15,
  Speed = 0.15,
  CancelFrame = 36,
  Homing = 1.2
}
ATTACK_PARAM[3] = {
  MagicFlag = 0,
  Rate1 = 0.25,
  Rate11 = 0.1,
  Rate2 = 0.2,
  Rate22 = 0.05
}
ATTACK_PARAM[4] = {
  MagicFlag = 1,
  Rate1 = 0.15,
  Rate2 = 0.15
}
ATTACK_PARAM[5] = {
  MagicFlag = 1,
  Rate1 = 0.15,
  Rate2 = 0.1,
  Rate3 = 0.1
}
ATTACK_PARAM[6] = {
  MagicFlag = 1,
  Rate1 = 0.35,
  Rate2 = 0.35,
  StartFrame_Kakato = 0,
  StartFrame = 60
}
ATTACK_PARAM[7] = {
  MagicFlag = 1,
  Rate1 = 0.1,
  Rate2 = 0.05,
  EndDamagePoint = 30,
  Idling = 1,
  Group = 6
}
ATTACK_PARAM[8] = {
  MagicFlag = 1,
  Rate1 = 0.1,
  Rate2 = 0.1,
  Rate3 = 0.1,
  Group = 5
}
ATTACK_PARAM[9] = {
  MagicFlag = 1,
  Rate1 = 0.2,
  Rate11 = 0.1,
  Rate2 = 0.05
}
ATTACK_PARAM[10] = {
  MagicFlag = 1,
  Rate1 = 0.15,
  Rate2 = 0.05,
  Timer = 120
}
ATTACK_PARAM[12] = {
  MagicFlag = 1,
  Rate1 = 0.15,
  Rate2 = 0.05,
  Rate3 = 0.05,
  BulletSize = 0.5,
  BulletSize2 = 20.5,
  Group = 1
}
ATTACK_PARAM[13] = {
  MagicFlag = 1,
  Rate1 = 0.15,
  Rate2 = 0.1,
  UpdateFrame = 40,
  Group = 3,
  Time = 480
}
ATTACK_PARAM[14] = {
  MagicFlag = 1,
  Rate1 = 0.15,
  Rate11 = 0.1,
  Rate2 = 0.05,
  Rate2 = 0.05,
  Group = 2,
  Speed = 0.2,
  Homing = 0.2
}
ATTACK_PARAM[15] = {
  MagicFlag = 1,
  Rate1 = 0.15,
  Rate2 = 0.1,
  Rate3 = 0.15,
  Group = 4
}
ATTACK_PARAM[16] = {
  MagicFlag = 1,
  Rate1 = 0.15,
  Rate2 = 0.1,
  Rate3 = 0.5
}
ATTACK_PARAM[17] = {GuardStartCnt = 2}
LASERBITMASTART = {Num = 0}
LASERBITMASTART[0] = {itAttack = 0}
LASERBITMASTART[0][0] = {isAttack = 0, handle = NULL_HANDLE}
LASERBITMASTART[0][1] = {isAttack = 0, handle = NULL_HANDLE}
LASERBITMASTART[0][2] = {isAttack = 0, handle = NULL_HANDLE}
LASERBITMASTART[0][3] = {isAttack = 0, handle = NULL_HANDLE}
LASERBITMASTART[1] = {itAttack = 0}
LASERBITMASTART[1][0] = {isAttack = 0, handle = NULL_HANDLE}
LASERBITMASTART[1][1] = {isAttack = 0, handle = NULL_HANDLE}
LASERBITMASTART[1][2] = {isAttack = 0, handle = NULL_HANDLE}
LASERBITMASTART[1][3] = {isAttack = 0, handle = NULL_HANDLE}
LASERBITMASTART[2] = {itAttack = 0}
LASERBITMASTART[2][0] = {isAttack = 0, handle = NULL_HANDLE}
LASERBITMASTART[2][1] = {isAttack = 0, handle = NULL_HANDLE}
LASERBITMASTART[2][2] = {isAttack = 0, handle = NULL_HANDLE}
LASERBITMASTART[2][3] = {isAttack = 0, handle = NULL_HANDLE}
LASERBITMASTART[3] = {itAttack = 0}
LASERBITMASTART[3][0] = {isAttack = 0, handle = NULL_HANDLE}
LASERBITMASTART[3][1] = {isAttack = 0, handle = NULL_HANDLE}
LASERBITMASTART[3][2] = {isAttack = 0, handle = NULL_HANDLE}
LASERBITMASTART[3][3] = {isAttack = 0, handle = NULL_HANDLE}
LASERBITMASTART[4] = {itAttack = 0}
LASERBITMASTART[4][0] = {isAttack = 0, handle = NULL_HANDLE}
LASERBITMASTART[4][1] = {isAttack = 0, handle = NULL_HANDLE}
LASERBITMASTART[4][2] = {isAttack = 0, handle = NULL_HANDLE}
LASERBITMASTART[4][3] = {isAttack = 0, handle = NULL_HANDLE}
COPYMAN = {isDouble = false}
COPYMAN[0] = {
  handle = NULL_HANDLE,
  Index = 0,
  deadFlag = 0
}
COPYMAN[1] = {
  handle = NULL_HANDLE,
  Index = 0,
  deadFlag = 0
}
COPYMAN[2] = {
  handle = NULL_HANDLE,
  Index = 0,
  deadFlag = 0
}
COPYMAN[3] = {
  handle = NULL_HANDLE,
  Index = 0,
  deadFlag = 0
}
COPYMAN[4] = {
  handle = NULL_HANDLE,
  Index = 0,
  deadFlag = 0
}
WorkVec = FVECTOR3.new(0, 0, 0)
WorkVec0 = FVECTOR3.new(0, 0, 0)
WorkVec1 = FVECTOR3.new(0, 0, 0)
WorkVec2 = FVECTOR3.new(0, 0, 0)
WorkVec3 = FVECTOR3.new(0, 0, 0)
WorkVec4 = FVECTOR3.new(0, 0, 0)
WorkVec5 = FVECTOR3.new(0, 0, 0)
WorkRot = FVECTOR3.new(0, 0, 0)
WorkRot2 = FVECTOR3.new(0, 0, 0)
B01EX_INIT_PARAM = false
b01ex00 = {}
b01ex00_base_mt = {__index = __StateMachine}
setmetatable(b01ex00, b01ex00_base_mt)
b01ex00_mt = {__index = b01ex00}
function b01ex00.new(_ARG_0_)
  return setmetatable(__StateMachine:new(), b01ex00_mt)
end
b01ex00.states = {
  Appear = {
    OnBeginState = function(_ARG_0_)
      Entity.SetMotion(_ARG_0_.myHandle, _UPVALUE0_)
    end,
    OnEndState = function(_ARG_0_)
    end,
    OnUpdate = function(_ARG_0_)
      _ARG_0_.targetHandle = Player.GetHandle()
      _ARG_0_:GotoState("BattleIdling")
    end
  },
  Idling = {
    OnBeginState = function(_ARG_0_)
      print("b01ex00:Idling\n")
      Entity.SetTimer(_ARG_0_.myHandle, _UPVALUE0_.IdlingTime)
      Entity.SetMotion(_ARG_0_.myHandle, _UPVALUE1_)
    end,
    OnEndState = function(_ARG_0_)
    end,
    OnUpdate = function(_ARG_0_)
      if Entity.IsTimeOver(_ARG_0_.myHandle) == false then
        return
      end
      _ARG_0_:GotoState("BattleIdling")
    end
  },
  BattleIdling = {
    OnBeginState = function(_ARG_0_)
      print("b01ex00:BattleIdling\n")
      Entity.SetTimer(_ARG_0_.myHandle, _UPVALUE0_.BattleIdlingTime)
      Entity.SetMotion(_ARG_0_.myHandle, _UPVALUE1_)
      _ARG_0_:createStateList()
      if ATTACK_PARAM[_ARG_0_.nextAttackID].MagicFlag == 0 then
        _ARG_0_:setLaserBlade()
      end
      _ARG_0_.targetHandle = Enemy.SearchAttackEntity(_ARG_0_.myHandle, SEARCH_TYPE_NEAR)
      _ARG_0_.myCopyID = 0
    end,
    OnEndState = function(_ARG_0_)
    end,
    OnUpdate = function(_ARG_0_)
      if _ARG_0_:Defense() then
        return
      end
      if Entity.IsTimeOver(_ARG_0_.myHandle) then
        _ARG_0_:GotoState(_ARG_0_.stack:pop(1))
      end
    end
  },
  MoveCheck = {
    OnBeginState = function(_ARG_0_)
      print("b01ex00:MoveCheck\n")
      _ARG_0_.step = 0
    end,
    OnEndState = function(_ARG_0_)
      Entity.ClearSpeed(_ARG_0_.myHandle)
    end,
    OnUpdate = function(_ARG_0_)
      if Script.Random() < 0.5 then
        _ARG_0_:GotoState(_ARG_0_.stack:pop(1))
        return
      end
      if Entity.CalcDistanceSq(_ARG_0_.myHandle, _ARG_0_.targetHandle) > 16 then
        _ARG_0_.stack:push("Approache")
      else
        _ARG_0_.stack:push("OutMoveWorp")
      end
      _ARG_0_:GotoState(_ARG_0_.stack:pop(1))
    end
  },
  Approache = {
    OnBeginState = function(_ARG_0_)
      print(Entity.GetName(_ARG_0_.myHandle) .. ":Approache\n")
      if Entity.CalcDistanceSq(_ARG_0_.myHandle, _ARG_0_.targetHandle) < 16 then
        Entity.SetTimer(_ARG_0_.myHandle, 60 * (Script.Random() * 2 + 1))
        _ARG_0_:setMotion(_UPVALUE0_, 1)
        _ARG_0_.MoveFlag = _UPVALUE1_
      else
        Entity.SetTimer(_ARG_0_.myHandle, 60 * (Script.Random() * 2 + 1))
        _ARG_0_:setMotion(_UPVALUE2_, 1)
        _ARG_0_.MoveFlag = _UPVALUE3_
      end
      _ARG_0_.step = 0
      _ARG_0_.speed = 0
    end,
    OnEndState = function(_ARG_0_)
      Entity.ClearSpeed(_ARG_0_.myHandle)
      Entity.EnableDamageColl(_ARG_0_.myHandle, 1)
      Entity.SetupModelFade(_ARG_0_.myHandle, 1, 1, 20)
      Entity.ClearSpeed(_ARG_0_.myHandle)
    end,
    OnUpdate = function(_ARG_0_)
      if _ARG_0_:IsDetone() then
        _ARG_0_:GotoState("Jump")
        return
      end
      if Entity.IsTimeOver(_ARG_0_.myHandle) then
        _ARG_0_:GotoState(_ARG_0_.stack:pop(1))
        return
      elseif Entity.CalcDistanceSq(_ARG_0_.myHandle, _ARG_0_.targetHandle) < 4 then
        _ARG_0_:GotoState(_ARG_0_.stack:pop(1))
        return
      end
      if _ARG_0_.MoveFlag == _UPVALUE0_ then
        Entity.TurnTargetYDegree(_ARG_0_.myHandle, _ARG_0_.targetHandle, 10)
        _ARG_0_:MoveEx(_UPVALUE1_.WalkSpeed, 0.1)
      else
        Entity.TurnTargetYDegree(_ARG_0_.myHandle, _ARG_0_.targetHandle, 10)
        _ARG_0_:MoveEx(_UPVALUE1_.DashSpeed, 1)
      end
      _ARG_0_.Timer = _ARG_0_.Timer - 1 * Entity.GetFrameRate(_ARG_0_.myHandle)
      if _ARG_0_.step == 0 then
        WorkVec:set(0, 0, 0)
        _ARG_0_.WarpMoveEffect = Entity.AttachEffect(_ARG_0_.myHandle, "b01ex00", "B035_WRP_LOC0_0", "center", WorkVec, WorkVec)
        Entity.GetWorldPos(WorkVec1, _ARG_0_.myHandle, 2)
        Entity.SetEffect(_ARG_0_.myHandle, "b01ex00", "B035_BUN_APP0_0", WorkVec1, WorkVec)
        Entity.EnableDamageColl(_ARG_0_.myHandle, 0)
        if Entity.CalcDistanceSq(_ARG_0_.myHandle, _ARG_0_.targetHandle) < 16 then
          _ARG_0_:setMotion(_UPVALUE2_, 1)
        else
          _ARG_0_:setMotion(_UPVALUE3_, 1)
        end
        _ARG_0_.step = 1
      elseif _ARG_0_.step == 1 then
        Entity.TurnTargetYDegree(_ARG_0_.myHandle, _ARG_0_.targetHandle, 180)
        if Script.Random() < 0.444 then
          WorkVec:set(Script.Random() * 3 + 2, 0, 0)
        elseif Script.Random() < 0.888 then
          WorkVec:set(Script.Random() * -3 - 2, 0, 0)
        elseif Entity.CalcDistanceSq(_ARG_0_.myHandle, _ARG_0_.targetHandle) < _UPVALUE4_ then
          WorkVec:set(0, 0, -(Script.Random() * 3 + 2))
        else
          WorkVec:set(0, 0, Script.Random() * 2 + 1)
        end
        Entity.GetWorldPos2(WorkVec1, _ARG_0_.myHandle, WorkVec)
        Entity.GetWorldPos(WorkVec2, _ARG_0_.targetHandle)
        Math.VectorLerp(WorkVec, WorkVec2, WorkVec1, 0.9)
        Entity.GetWorldPos(WorkVec1, _ARG_0_.myHandle)
        Collision.IntersectRayBg(WorkVec, COLL_KIND_ENEMY, WorkVec1, WorkVec)
        Entity.SetLocalPos(_ARG_0_.myHandle, WorkVec)
        Entity.SetupModelFade(_ARG_0_.myHandle, 0, 1, 20)
        _ARG_0_.step = 2
      elseif _ARG_0_.step == 2 then
        Entity.TurnTargetYDegree(_ARG_0_.myHandle, _ARG_0_.targetHandle, 180)
        Entity.GetWorldPos(WorkVec1, _ARG_0_.myHandle, 2)
        WorkVec:set(0, 0, 0)
        Entity.SetEffect(_ARG_0_.myHandle, "b01ex00", "B035_BUN_LOS0_0", WorkVec1, WorkVec)
        _ARG_0_.step = 3
        if Entity.CalcDistanceSq(_ARG_0_.myHandle, _ARG_0_.targetHandle) < _UPVALUE4_ then
          _ARG_0_:setMotion(_UPVALUE2_, 1)
          _ARG_0_.MoveFlag = _UPVALUE0_
        else
          _ARG_0_:setMotion(_UPVALUE3_, 1)
          _ARG_0_.MoveFlag = _UPVALUE5_
        end
      elseif _ARG_0_.step == 3 then
        _ARG_0_.Timer = 15 * (Script.Random() * 2 + 1)
        _ARG_0_.step = 4
      elseif _ARG_0_.step == 4 then
        if _ARG_0_.MoveFlag == _UPVALUE0_ then
          _ARG_0_:MoveEx(_UPVALUE1_.WalkSpeed, 0.1)
        else
          _ARG_0_:MoveEx(_UPVALUE1_.DashSpeed, 1)
        end
        Entity.TurnTargetYDegree(_ARG_0_.myHandle, _ARG_0_.targetHandle, 9)
        if Entity.IsModelFade(_ARG_0_.myHandle) == false then
          Entity.EnableDamageColl(_ARG_0_.myHandle, 1)
        end
        if _ARG_0_.Timer < 0 then
          _ARG_0_.step = 0
        end
      elseif _ARG_0_.step == 5 then
      end
    end
  },
  OutMoveWorp = {
    OnBeginState = function(_ARG_0_)
      print("b01ex00:OutMoveWorp\n")
      _ARG_0_.step = 0
      Entity.EnableDamageColl(_ARG_0_.myHandle, 0)
    end,
    OnEndState = function(_ARG_0_)
      Effect.LoopEnd(_ARG_0_.WarpMoveEffect)
      Entity.EnableDamageColl(_ARG_0_.myHandle, 1)
      Entity.SetupModelFade(_ARG_0_.myHandle, 1, 1, 20)
      Entity.ClearSpeed(_ARG_0_.myHandle)
    end,
    OnUpdate = function(_ARG_0_)
      if _ARG_0_.step == 0 then
        WorkVec:set(0, 0, 0)
        _ARG_0_.WarpMoveEffect = Entity.AttachEffect(_ARG_0_.myHandle, "b01ex00", "B035_WRP_LOC0_0", "center", WorkVec, WorkVec)
        Entity.GetWorldPos(WorkVec1, _ARG_0_.myHandle, 2)
        Entity.SetEffect(_ARG_0_.myHandle, "b01ex00", "B035_BUN_APP0_0", WorkVec1, WorkVec)
        Entity.EnableDamageColl(_ARG_0_.myHandle, 0)
        if Entity.CalcDistanceSq(_ARG_0_.myHandle, _ARG_0_.targetHandle) < 16 then
          _ARG_0_:setMotion(_UPVALUE0_, 1)
        else
          _ARG_0_:setMotion(_UPVALUE1_, 1)
        end
        _ARG_0_.step = 1
      elseif _ARG_0_.step == 1 then
        Entity.TurnTargetYDegree(_ARG_0_.myHandle, _ARG_0_.targetHandle, 180)
        WorkVec:set(0, 0, -(Script.Random() * 3 + 4))
        Entity.GetWorldPos2(WorkVec1, _ARG_0_.myHandle, WorkVec)
        Entity.GetWorldPos(WorkVec2, _ARG_0_.targetHandle)
        Math.VectorLerp(WorkVec, WorkVec2, WorkVec1, 0.9)
        Entity.GetWorldPos(WorkVec1, _ARG_0_.myHandle)
        Collision.IntersectRayBg(WorkVec, COLL_KIND_ENEMY, WorkVec1, WorkVec)
        Entity.SetLocalPos(_ARG_0_.myHandle, WorkVec)
        Entity.SetupModelFade(_ARG_0_.myHandle, 0, 1, 20)
        _ARG_0_.step = 2
      elseif _ARG_0_.step == 2 then
        Entity.TurnTargetYDegree(_ARG_0_.myHandle, _ARG_0_.targetHandle, 180)
        Entity.GetWorldPos(WorkVec1, _ARG_0_.myHandle, 2)
        WorkVec:set(0, 0, 0)
        Entity.SetEffect(_ARG_0_.myHandle, "b01ex00", "B035_BUN_LOS0_0", WorkVec1, WorkVec)
        Entity.ClearSpeed(_ARG_0_.myHandle)
        _ARG_0_:GotoState(_ARG_0_.stack:pop(1))
      end
    end
  },
  WarpMove = {
    OnBeginState = function(_ARG_0_)
      print("b01ex00:WarpMove\n")
      _ARG_0_.step = 0
    end,
    OnEndState = function(_ARG_0_)
      Effect.LoopEnd(_ARG_0_.WarpMoveEffect)
      Entity.EnableDamageColl(_ARG_0_.myHandle, 1)
      Entity.SetupModelFade(_ARG_0_.myHandle, 1, 1, 20)
      Entity.ClearSpeed(_ARG_0_.myHandle)
    end,
    OnUpdate = function(_ARG_0_)
      if _ARG_0_:IsDetone() then
        _ARG_0_:GotoState("Jump")
        return
      end
      if _ARG_0_.step == 0 then
        WorkVec:set(0, 0, 0)
        _ARG_0_.WarpMoveEffect = Entity.AttachEffect(_ARG_0_.myHandle, "b01ex00", "B035_WRP_LOC0_0", "center", WorkVec, WorkVec)
        Entity.GetWorldPos(WorkVec1, _ARG_0_.myHandle, 2)
        Entity.SetEffect(_ARG_0_.myHandle, "b01ex00", "B035_BUN_APP0_0", WorkVec1, WorkVec)
        Entity.EnableDamageColl(_ARG_0_.myHandle, 0)
        if Entity.CalcDistanceSq(_ARG_0_.myHandle, _ARG_0_.targetHandle) < 16 then
          _ARG_0_:setMotion(_UPVALUE0_, 1)
        else
          _ARG_0_:setMotion(_UPVALUE1_, 1)
        end
        _ARG_0_.step = 1
      elseif _ARG_0_.step == 1 then
        Entity.TurnTargetYDegree(_ARG_0_.myHandle, _ARG_0_.targetHandle, 180)
        if Script.Random() < 0.444 then
          WorkVec:set(Script.Random() * 3 + 2, 0, 0)
        elseif Script.Random() < 0.888 then
          WorkVec:set(Script.Random() * -3 - 2, 0, 0)
        elseif Entity.CalcDistanceSq(_ARG_0_.myHandle, _ARG_0_.targetHandle) < _UPVALUE2_ then
          WorkVec:set(0, 0, -(Script.Random() * 3 + 2))
        else
          WorkVec:set(0, 0, Script.Random() * 2 + 1)
        end
        Entity.GetWorldPos2(WorkVec1, _ARG_0_.myHandle, WorkVec)
        Entity.GetWorldPos(WorkVec2, _ARG_0_.targetHandle)
        Math.VectorLerp(WorkVec, WorkVec2, WorkVec1, 0.9)
        Entity.GetWorldPos(WorkVec1, _ARG_0_.myHandle)
        Collision.IntersectRayBg(WorkVec, COLL_KIND_ENEMY, WorkVec1, WorkVec)
        Entity.SetLocalPos(_ARG_0_.myHandle, WorkVec)
        Entity.SetupModelFade(_ARG_0_.myHandle, 0, 1, 20)
        _ARG_0_.step = 2
      elseif _ARG_0_.step == 2 then
        Entity.TurnTargetYDegree(_ARG_0_.myHandle, _ARG_0_.targetHandle, 180)
        Entity.GetWorldPos(WorkVec1, _ARG_0_.myHandle, 2)
        WorkVec:set(0, 0, 0)
        Entity.SetEffect(_ARG_0_.myHandle, "b01ex00", "B035_BUN_LOS0_0", WorkVec1, WorkVec)
        _ARG_0_.step = 3
        if Entity.CalcDistanceSq(_ARG_0_.myHandle, _ARG_0_.targetHandle) < _UPVALUE2_ then
          _ARG_0_:setMotion(_UPVALUE0_, 1)
          _ARG_0_.MoveFlag = _UPVALUE3_
        else
          _ARG_0_:setMotion(_UPVALUE1_, 1)
          _ARG_0_.MoveFlag = _UPVALUE4_
        end
      elseif _ARG_0_.step == 3 then
        Entity.SetTimer(_ARG_0_.myHandle, 15 * (Script.Random() * 2 + 1))
        _ARG_0_.step = 4
      elseif _ARG_0_.step == 4 then
        if _ARG_0_.MoveFlag == _UPVALUE3_ then
          _ARG_0_:MoveEx(_UPVALUE5_.WalkSpeed, 0.1)
        else
          _ARG_0_:MoveEx(_UPVALUE5_.DashSpeed, 1)
        end
        Entity.TurnTargetYDegree(_ARG_0_.myHandle, _ARG_0_.targetHandle, 9)
        if Entity.IsModelFade(_ARG_0_.myHandle) == false then
          Entity.EnableDamageColl(_ARG_0_.myHandle, 1)
        end
        if Entity.IsTimeOver(_ARG_0_.myHandle) or Entity.CalcDistanceSq(_ARG_0_.myHandle, _ARG_0_.targetHandle) < 4 then
          if Entity.CalcDistanceSq(_ARG_0_.myHandle, _ARG_0_.targetHandle) > _UPVALUE6_ then
            _ARG_0_.step = 0
          else
            Entity.ClearSpeed(_ARG_0_.myHandle)
            _ARG_0_:GotoState(_ARG_0_.stack:pop(1))
          end
        end
      elseif _ARG_0_.step == 5 then
      end
    end
  },
  WarpMove_Counter = {
    OnBeginState = function(_ARG_0_)
      print("b01ex00:WarpMove_Counter\n")
      _ARG_0_.step = 0
    end,
    OnEndState = function(_ARG_0_)
      Effect.LoopEnd(_ARG_0_.WarpMoveEffect)
      Entity.EnableDamageColl(_ARG_0_.myHandle, 1)
      Entity.SetupModelFade(_ARG_0_.myHandle, 1, 1, 20)
      Entity.ClearSpeed(_ARG_0_.myHandle)
    end,
    OnUpdate = function(_ARG_0_)
      if _ARG_0_.step == 0 then
        WorkVec:set(0, 0, 0)
        _ARG_0_.WarpMoveEffect = Entity.AttachEffect(_ARG_0_.myHandle, "b01ex00", "B035_WRP_LOC0_0", "center", WorkVec, WorkVec)
        Entity.GetWorldPos(WorkVec1, _ARG_0_.myHandle, 2)
        Entity.EnableDamageColl(_ARG_0_.myHandle, 0)
        if Entity.CalcDistanceSq(_ARG_0_.myHandle, _ARG_0_.targetHandle) < 16 then
          _ARG_0_:setMotion(_UPVALUE0_, 1)
        else
          _ARG_0_:setMotion(_UPVALUE1_, 1)
        end
        _ARG_0_.step = 1
      elseif _ARG_0_.step == 1 then
        Entity.TurnTargetYDegree(_ARG_0_.myHandle, _ARG_0_.targetHandle, 180)
        if Script.Random() < 0.25 then
          WorkVec:set(Script.Random() * 3 + 5, 0, 0)
        elseif Script.Random() < 0.5 then
          WorkVec:set(0, 0, -(Script.Random() * 3 + 5))
        elseif Script.Random() < 0.75 then
          WorkVec:set(0, 0, Script.Random() * 2 + 5)
        else
          WorkVec:set(Script.Random() * -3 - 5, 0, 0)
        end
        Entity.GetWorldPos2(WorkVec1, _ARG_0_.myHandle, WorkVec)
        Entity.GetWorldPos(WorkVec2, _ARG_0_.targetHandle)
        Math.VectorLerp(WorkVec, WorkVec2, WorkVec1, 0.9)
        Entity.GetWorldPos(WorkVec1, _ARG_0_.myHandle)
        Collision.IntersectRayBg(WorkVec, COLL_KIND_ENEMY, WorkVec1, WorkVec)
        Entity.SetLocalPos(_ARG_0_.myHandle, WorkVec)
        Entity.SetupModelFade(_ARG_0_.myHandle, 0, 1, 20)
        _ARG_0_.step = 2
      elseif _ARG_0_.step == 2 then
        Entity.TurnTargetYDegree(_ARG_0_.myHandle, _ARG_0_.targetHandle, 180)
        Entity.GetWorldPos(WorkVec1, _ARG_0_.myHandle, 2)
        WorkVec:set(0, 0, 0)
        Entity.SetEffect(_ARG_0_.myHandle, "b01ex00", "B035_BUN_LOS0_0", WorkVec1, WorkVec)
        _ARG_0_.step = 3
      elseif _ARG_0_.step == 3 then
        _ARG_0_:GotoState(_ARG_0_.stack:pop(1))
      elseif _ARG_0_.step == 4 then
        if _ARG_0_.MoveFlag == _UPVALUE2_ then
          _ARG_0_:MoveEx(_UPVALUE3_.WalkSpeed, 0.1)
        else
          _ARG_0_:MoveEx(_UPVALUE3_.DashSpeed, 1)
        end
        Entity.TurnTargetYDegree(_ARG_0_.myHandle, _ARG_0_.targetHandle, 9)
        if Entity.IsModelFade(_ARG_0_.myHandle) == false then
          Entity.EnableDamageColl(_ARG_0_.myHandle, 1)
        end
        if Entity.IsTimeOver(_ARG_0_.myHandle) then
          if Entity.CalcDistanceSq(_ARG_0_.myHandle, _ARG_0_.targetHandle) > _UPVALUE4_ then
            _ARG_0_.step = 0
          else
            Entity.ClearSpeed(_ARG_0_.myHandle)
            _ARG_0_:GotoState(_ARG_0_.stack:pop(1))
          end
        end
      elseif _ARG_0_.step == 5 then
      end
    end
  },
  RaishingDash = {
    OnBeginState = function(_ARG_0_)
      print("b01ex00:RaishingDash\n")
      _ARG_0_.step = 0
      _ARG_0_.workStep = 0
    end,
    OnEndState = function(_ARG_0_)
      Effect.LoopEnd(_ARG_0_.WarpMoveEffect)
      Entity.EnableDamageColl(_ARG_0_.myHandle, 1)
      Entity.SetupModelFade(_ARG_0_.myHandle, 1, 1, 20)
      Entity.ClearSpeed(_ARG_0_.myHandle)
    end,
    OnUpdate = function(_ARG_0_)
      if _ARG_0_:IsRaisingStormHandle() == 0 then
        Entity.ClearSpeed(_ARG_0_.myHandle)
        _ARG_0_:GotoState(_ARG_0_.stack:pop(1))
        return
      end
      if _ARG_0_.step == 0 then
        WorkVec:set(0, 0, 0)
        _ARG_0_.WarpMoveEffect = Entity.AttachEffect(_ARG_0_.myHandle, "b01ex00", "B035_WRP_LOC0_0", "center", WorkVec, WorkVec)
        Entity.GetWorldPos(WorkVec1, _ARG_0_.myHandle, 2)
        Entity.SetEffect(_ARG_0_.myHandle, "b01ex00", "B035_BUN_APP0_0", WorkVec1, WorkVec)
        Entity.EnableDamageColl(_ARG_0_.myHandle, 0)
        _ARG_0_:setMotion(_UPVALUE0_, 1)
        _ARG_0_.step = 1
      elseif _ARG_0_.step == 1 then
        Entity.TurnTargetYDegree(_ARG_0_.myHandle, _ARG_0_.targetHandle, 180)
        if _ARG_0_.workStep == 0 then
          WorkVec:set(0, 0, 7)
          Entity.GetWorldPos2(WorkVec, _ARG_0_.targetHandle, WorkVec)
          _ARG_0_.workStep = _ARG_0_.workStep + 1
        elseif _ARG_0_.workStep == 1 then
          WorkVec:set(0, 0, -7)
          Entity.GetWorldPos2(WorkVec, _ARG_0_.targetHandle, WorkVec)
          _ARG_0_.workStep = _ARG_0_.workStep + 1
        elseif _ARG_0_.workStep == 2 then
          WorkVec:set(7, 0, 0)
          Entity.GetWorldPos2(WorkVec, _ARG_0_.targetHandle, WorkVec)
          _ARG_0_.workStep = _ARG_0_.workStep + 1
        elseif _ARG_0_.workStep == 3 then
          WorkVec:set(-7, 0, 0)
          Entity.GetWorldPos2(WorkVec, _ARG_0_.targetHandle, WorkVec)
          _ARG_0_.workStep = 0
        end
        Entity.GetWorldPos(WorkVec1, _ARG_0_.myHandle)
        WorkVec:setx(WorkVec:getx())
        WorkVec:sety(WorkVec:gety() - Entity.GetFloorDistance(_ARG_0_.targetHandle))
        WorkVec:setz(WorkVec:getz())
        Collision.IntersectRayBg(WorkVec, COLL_KIND_ENEMY, WorkVec1, WorkVec)
        Entity.SetLocalPos(_ARG_0_.myHandle, WorkVec)
        Entity.GetRot(WorkRot, _ARG_0_.myHandle)
        WorkRot:sety(WorkRot:gety() + DegToRad(Script.Random() * 10 - 10))
        Entity.SetRot(_ARG_0_.myHandle, WorkRot)
        Entity.SetupModelFade(_ARG_0_.myHandle, 0, 1, 20)
        _ARG_0_.step = 2
      elseif _ARG_0_.step == 2 then
        Entity.TurnTargetYDegree(_ARG_0_.myHandle, _ARG_0_.targetHandle, 180)
        Entity.GetWorldPos(WorkVec1, _ARG_0_.myHandle, 2)
        WorkVec:set(0, 0, 0)
        Entity.SetEffect(_ARG_0_.myHandle, "b01ex00", "B035_BUN_LOS0_0", WorkVec1, WorkVec)
        _ARG_0_.step = 3
        _ARG_0_:setMotion(_UPVALUE0_, 1)
        _ARG_0_.MoveFlag = _UPVALUE1_
      elseif _ARG_0_.step == 3 then
        Entity.SetTimer(_ARG_0_.myHandle, 60)
        _ARG_0_.step = 4
      elseif _ARG_0_.step == 4 then
        _ARG_0_:MoveEx(_UPVALUE2_.DashSpeed, 1)
        if Entity.IsModelFade(_ARG_0_.myHandle) == false then
          Entity.EnableDamageColl(_ARG_0_.myHandle, 1)
        end
        if Entity.IsTimeOver(_ARG_0_.myHandle) then
          if _ARG_0_:IsRaisingStormHandle() == 1 then
            _ARG_0_.step = 0
          else
            Entity.ClearSpeed(_ARG_0_.myHandle)
            _ARG_0_:GotoState(_ARG_0_.stack:pop(1))
          end
        end
      elseif _ARG_0_.step == 5 then
      end
    end
  },
  Jump = {
    OnBeginState = function(_ARG_0_)
      print("b01ex00:Jump\n")
      _ARG_0_.step = 0
      _ARG_0_:setMotion(_UPVALUE0_)
      Entity.EnableGravity(_ARG_0_.myHandle, 1)
      Entity.SetRot(_ARG_0_.myHandle, 0, Entity.CalcDirection(_ARG_0_.myHandle, _ARG_0_.targetHandle), 0)
      Entity.EnableDamageColl(_ARG_0_.myHandle, 0)
    end,
    OnEndState = function(_ARG_0_)
    end,
    OnUpdate = function(_ARG_0_)
      if _ARG_0_.step == 0 then
        if Entity.TurnTargetYDegree(_ARG_0_.myHandle, _ARG_0_.targetHandle, 10) == false then
          _ARG_0_.velocity:set(0, 0.2, 0.2)
          Entity.CalcVelocity(_ARG_0_.myHandle, _ARG_0_.velocity)
          _ARG_0_.step = 1
        end
      elseif _ARG_0_.step == 1 then
        Entity.GetVelocity(WorkVec, _ARG_0_.myHandle)
        if 0 >= WorkVec:gety() then
          _ARG_0_:GotoState("FallToLanding")
        end
      end
    end
  },
  FallToLanding = {
    OnBeginState = function(_ARG_0_)
      print("b01ex00:FallToLanding\n")
      _ARG_0_.step = 0
      if Entity.IsGround(_ARG_0_.myHandle) == true then
        Entity.ClearSpeed(_ARG_0_.myHandle)
        _ARG_0_:setMotion(_UPVALUE0_)
        _ARG_0_.step = 1
      else
        _ARG_0_:setMotion(_UPVALUE1_)
      end
    end,
    OnEndState = function(_ARG_0_)
      Entity.ClearSpeed(_ARG_0_.myHandle)
      Entity.EnableDamageColl(_ARG_0_.myHandle, 1)
    end,
    OnUpdate = function(_ARG_0_)
      if _ARG_0_.step == 0 then
        if Entity.IsGround(_ARG_0_.myHandle) == true then
          Entity.ClearSpeed(_ARG_0_.myHandle)
          _ARG_0_:setMotion(_UPVALUE0_)
          _ARG_0_.step = 1
        end
      elseif _ARG_0_.step == 1 and Entity.IsMotionEnd(_ARG_0_.myHandle) then
        _ARG_0_:GotoState(_ARG_0_.stack:pop(1))
      end
    end
  },
  Guard = {
    OnBeginState = function(_ARG_0_)
      print("b01ex00:Guard\n")
      _ARG_0_:setMotion(_UPVALUE0_)
      _ARG_0_:setLaserBlade()
      _ARG_0_:deleteLaserBlade(_UPVALUE1_)
      _ARG_0_:SetingGuard()
      _ARG_0_.step = 0
      _ARG_0_.DamageCnt = 0
    end,
    OnEndState = function(_ARG_0_)
      _ARG_0_:EndGuard()
    end,
    OnUpdate = function(_ARG_0_)
      if Entity.IsMotionEnd(_ARG_0_.myHandle) then
        _ARG_0_:setState("BattleIdling")
      end
    end
  },
  Double = {
    OnBeginState = function(_ARG_0_)
      print("b01ex00:Double\n")
      _ARG_0_:setMotionEx(_UPVALUE0_, ATTACK_PARAM[_UPVALUE1_].Group)
      _ARG_0_.step = 0
      _ARG_0_:deleteLaserBlade()
      _ARG_0_.workStep = 0
      _ARG_0_:initCopyMan()
      if COPYMAN[_ARG_0_.workStep].handle == NULL_HANDLE then
        COPYMAN[_ARG_0_.workStep].handle = _ARG_0_.myHandle
        _ARG_0_.myCopyID = _ARG_0_.workStep
        _ARG_0_.workStep = _ARG_0_.workStep + 1
      end
      Entity.EnableBodyColl(_ARG_0_.myHandle, 0)
      Entity.EnableDamageColl(_ARG_0_.myHandle, 0)
      if Enemy.SearchEnemy(_ARG_0_.myHandle, "b01ex00", SEARCH_TYPE_NEAR) ~= NULL_HANDLE then
        _ARG_0_:GotoState("BattleIdling")
        return
      end
    end,
    OnEndState = function(_ARG_0_)
    end,
    OnUpdate = function(_ARG_0_)
      if _ARG_0_.step == 0 then
        if Entity.GetMotionNowFrame(_ARG_0_.myHandle) > 10 then
          COPYMAN.isDouble = true
          if _ARG_0_.workStep < 5 then
            if COPYMAN[_ARG_0_.workStep].handle == NULL_HANDLE then
              COPYMAN[_ARG_0_.workStep].deadFlag = 0
              Entity.GetWorldPos(WorkVec, _ARG_0_.myHandle)
              Entity.GetRot(WorkRot, _ARG_0_.myHandle)
              COPYMAN[_ARG_0_.workStep].handle = Entity.CreateEntity("b01ex00", WorkVec, WorkRot)
              EntityManager:GetEntity(COPYMAN[_ARG_0_.workStep].handle):GotoState("StartDouble")
              EntityManager:GetEntity(COPYMAN[_ARG_0_.workStep].handle).myCopyID = _ARG_0_.workStep
              Enemy.SetHP(COPYMAN[_ARG_0_.workStep].handle, Enemy.GetHp(_ARG_0_.myHandle))
              Entity.EnableBodyColl(COPYMAN[_ARG_0_.workStep].handle, 0)
              Entity.EnableDamageColl(COPYMAN[_ARG_0_.workStep].handle, 0)
              EntityManager:GetEntity(COPYMAN[_ARG_0_.workStep].handle).CopyTime = 1800
              if EntityManager:GetEntity(COPYMAN[_ARG_0_.workStep].handle).myCopyID == 1 then
                EntityManager:GetEntity(COPYMAN[_ARG_0_.workStep].handle).Timer = 15
              elseif EntityManager:GetEntity(COPYMAN[_ARG_0_.workStep].handle).myCopyID == 2 then
                EntityManager:GetEntity(COPYMAN[_ARG_0_.workStep].handle).Timer = 15
              elseif EntityManager:GetEntity(COPYMAN[_ARG_0_.workStep].handle).myCopyID == 3 then
                EntityManager:GetEntity(COPYMAN[_ARG_0_.workStep].handle).Timer = 25
              elseif EntityManager:GetEntity(COPYMAN[_ARG_0_.workStep].handle).myCopyID == 4 then
                EntityManager:GetEntity(COPYMAN[_ARG_0_.workStep].handle).Timer = 25
              end
              if _ARG_0_.workStep == 1 then
                FVECTOR3.set(WorkVec, 0.1, 0, 0.1)
                Entity.CalcVelocityXZ(COPYMAN[_ARG_0_.workStep].handle, WorkVec)
              elseif _ARG_0_.workStep == 2 then
                FVECTOR3.set(WorkVec, -0.1, 0, 0.1)
                Entity.CalcVelocityXZ(COPYMAN[_ARG_0_.workStep].handle, WorkVec)
              elseif _ARG_0_.workStep == 3 then
                FVECTOR3.set(WorkVec, 0.1, 0, 0.1)
                Entity.CalcVelocityXZ(COPYMAN[_ARG_0_.workStep].handle, WorkVec)
              elseif _ARG_0_.workStep == 4 then
                FVECTOR3.set(WorkVec, -0.1, 0, 0.1)
                Entity.CalcVelocityXZ(COPYMAN[_ARG_0_.workStep].handle, WorkVec)
              end
            end
            _ARG_0_.workStep = _ARG_0_.workStep + 1
          else
            _ARG_0_.CopyTime = 1800
            _ARG_0_.stack:push("StartDouble")
            _ARG_0_:GotoState(_ARG_0_.stack:pop(1))
          end
        end
      elseif _ARG_0_.step == 1 then
      end
    end
  },
  StartDouble = {
    OnBeginState = function(_ARG_0_)
      print("b01ex00:StartDouble\n")
      _ARG_0_:setMotion(_UPVALUE0_)
      Entity.SetAnimNowFrame(_ARG_0_.myHandle, Entity.GetMotionNowFrame(_ARG_0_.owner))
      _ARG_0_.step = 0
      Entity.SetupModelFade(_ARG_0_.myHandle, 0, 1, 30)
      WorkVec:set(0, 0, 0)
      WorkRot:set(0, 0, 0)
      Entity.AttachEffect(_ARG_0_.myHandle, "b01ex00", "B035_BUN_APP0_0", "center", WorkVec, WorkRot)
      _ARG_0_.targetHandle = Player.GetHandle()
      _ARG_0_.saveHP = 0
      _ARG_0_.WarpMoveEffect = Entity.AttachEffect(_ARG_0_.myHandle, "b01ex00", "B035_WRP_LOC0_0", "center", WorkVec, WorkVec)
    end,
    OnEndState = function(_ARG_0_)
      Entity.EnableBodyColl(_ARG_0_.myHandle, 1)
      Entity.EnableDamageColl(_ARG_0_.myHandle, 1)
    end,
    OnUpdate = function(_ARG_0_)
      _ARG_0_.Timer = _ARG_0_.Timer - 1 * Entity.GetFrameRate(_ARG_0_.myHandle)
      if _ARG_0_.step == 0 then
        if _ARG_0_.Timer < 0 then
          Entity.ClearSpeed(_ARG_0_.myHandle)
          _ARG_0_.step = 2
          _ARG_0_.Timer = 20
        end
      elseif _ARG_0_.Timer < 0 then
        _ARG_0_:GotoState("Idling_Double")
      end
    end
  },
  Idling_Double = {
    OnBeginState = function(_ARG_0_)
      _ARG_0_:setMotion(_UPVALUE0_, 1)
      _ARG_0_.step = 0
      Entity.SetTimer(_ARG_0_.myHandle, ATTACK_PARAM[_UPVALUE1_].Idling * (Script.Random() * 1 + 2))
    end,
    OnEndState = function(_ARG_0_)
    end,
    OnUpdate = function(_ARG_0_)
      if _ARG_0_.step == 0 then
        if Entity.CalcDistanceSq(_ARG_0_.myHandle, _ARG_0_.targetHandle) < _UPVALUE0_ then
          if Entity.IsTimeOver(_ARG_0_.myHandle) then
            if Enemy.SearchEnemy(_ARG_0_.myHandle, "b01ex00", SEARCH_TYPE_NEAR) == NULL_HANDLE then
              _ARG_0_:GotoState("BattleIdling")
              return
            end
            _ARG_0_.stack:push("Idling_Double")
            if _ARG_0_:CheckAttack() == true then
              if Script.Random() < 0.2 then
                _ARG_0_:GotoState("KonbAttack")
              elseif Script.Random() < 0.4 then
                _ARG_0_:GotoState("DansingAttack")
              elseif Script.Random() < 0.6 then
                _ARG_0_:GotoState("CrossAttack")
              elseif Script.Random() < 0.8 then
                _ARG_0_:GotoState("RashAttack")
              else
                _ARG_0_:GotoState("Whip_Rush")
              end
            else
              _ARG_0_:GotoState(_ARG_0_.stack:pop(1))
            end
          end
        else
          for _FORV_5_ = 0, 5 do
            _ARG_0_.stack:push("Idling_Double")
            _ARG_0_.stack:push("WarpMove")
          end
          _ARG_0_:GotoState(_ARG_0_.stack:pop(1))
        end
      elseif _ARG_0_.step == 1 then
      end
    end
  },
  TimeSlip = {
    OnBeginState = function(_ARG_0_)
      print("b01ex00:TimeSlip\n")
      Entity.GetRot(WorkRot, _ARG_0_.myHandle)
      if Entity.IsTargetFront(_ARG_0_.myHandle, _ARG_0_.targetHandle) then
        _ARG_0_:setMotion(_UPVALUE0_)
        _ARG_0_.step = 0
        _ARG_0_.TimeDmageFlag = 0
        WorkRot:sety(Entity.CalcDirection(_ARG_0_.myHandle, _ARG_0_.targetHandle))
        WorkVec:set(0, Math.Sin(DegToRad(BLOW_DEGREE)), -Math.Cos(DegToRad(BLOW_DEGREE)))
      else
        WorkRot:sety(Entity.CalcDirection(_ARG_0_.myHandle, _ARG_0_.myHandle))
        WorkVec:set(0, Math.Sin(DegToRad(BLOW_DEGREE)), Math.Cos(DegToRad(BLOW_DEGREE)))
        _ARG_0_:setMotion(_UPVALUE1_)
        _ARG_0_.step = 1
        _ARG_0_.TimeDmageFlag = 1
      end
      Math.RotateVectorXYZ(WorkVec, WorkRot)
      WorkVec:scale(Entity.CalcOrbitSpeedFromDistance(_ARG_0_.myHandle, DegToRad(BLOW_DEGREE), BLOW_DISTANCE))
      Entity.SetRot(_ARG_0_.myHandle, WorkRot)
      Entity.SetVelocity(_ARG_0_.myHandle, WorkVec)
      _ARG_0_.workStep = 0
      _ARG_0_.workStep2 = 0
      Entity.SetTimer(_ARG_0_.myHandle, 20)
      Entity.AttachEffect(_ARG_0_.myHandle, "b01ex00", "B035_TIM_SHO0_0", "center", WorkVec, WorkRot)
      _ARG_0_.workStep = _ARG_0_.step
      _ARG_0_:deleteLaserBlade()
      _ARG_0_.oldPlayerMuteki = Player.IsMuteki(_ARG_0_.targetHandle)
      Script.SetObjStop(OBJ_BIT_PLAYER, OBJ_BIT_PRIZE, OBJ_BIT_BULLET)
      Script.DisablePauseChecker()
      Player.StopDeck(_ARG_0_.targetHandle)
    end,
    OnEndState = function(_ARG_0_)
      Effect.LoopEnd(_ARG_0_.TimeSlipEffHandle)
      Entity.ClearSpeed(_ARG_0_.myHandle)
    end,
    OnUpdate = function(_ARG_0_)
      if _ARG_0_.step == -1 then
        if _ARG_0_.oldPlayerMuteki == true then
        else
          _ARG_0_.workStep = _ARG_0_.workStep + 1
          if _ARG_0_.workStep > 0 then
            WorkVec:set(0, 2, 0)
            Entity.GetWorldPos2(WorkVec, _ARG_0_.targetHandle, WorkVec)
            WorkRot:set(0, 0, 0)
            _ARG_0_.TimeSlipEffHandle = Entity.SetEffect(_ARG_0_.myHandle, "b01ex00", "B035_TIM_ICO0_0", WorkVec, WorkRot)
            _ARG_0_.step = 2
            Entity.ClearSpeed(_ARG_0_.myHandle)
            Entity.SetTimer(_ARG_0_.myHandle, ATTACK_PARAM[_UPVALUE0_], StartFrame)
            Entity.SetMotionSpeed(_ARG_0_.myHandle, 0)
          end
        end
        if Entity.IsGround(_ARG_0_.myHandle) and Entity.IsTimeOver(_ARG_0_.myHandle) then
          Entity.ClearSpeed(_ARG_0_.myHandle)
        end
        if Entity.IsMotionEnd(_ARG_0_.myHandle) then
          Entity.ClearSpeed(_ARG_0_.myHandle)
          Entity.SetMotionSpeed(_ARG_0_.myHandle, 0)
        end
      elseif _ARG_0_.step == 0 or _ARG_0_.step == 1 then
        if Entity.IsGround(_ARG_0_.myHandle) and Entity.IsTimeOver(_ARG_0_.myHandle) then
          Entity.ClearSpeed(_ARG_0_.myHandle)
        end
        if Entity.IsMotionEnd(_ARG_0_.myHandle) then
          _ARG_0_.workStep = _ARG_0_.workStep + 1
          if _ARG_0_.workStep > 0 then
            WorkVec:set(0, 2, 0)
            Entity.GetWorldPos2(WorkVec, _ARG_0_.targetHandle, WorkVec)
            WorkRot:set(0, 0, 0)
            _ARG_0_.TimeSlipEffHandle = Entity.SetEffect(_ARG_0_.myHandle, "b01ex00", "B035_TIM_ICO0_0", WorkVec, WorkRot)
            _ARG_0_.step = 2
            Entity.ClearSpeed(_ARG_0_.myHandle)
            Entity.SetTimer(_ARG_0_.myHandle, 60)
            Entity.SetMotionSpeed(_ARG_0_.myHandle, 0)
          end
        end
      elseif _ARG_0_.step == 2 then
        if Entity.IsTimeOver(_ARG_0_.myHandle) then
          if _ARG_0_.TimeDmageFlag == 0 then
            _ARG_0_:setMotion(_UPVALUE1_)
          else
            _ARG_0_:setMotion(_UPVALUE2_)
          end
          Entity.SetMotionSpeed(_ARG_0_.myHandle, 1)
          _ARG_0_.step = 3
          Sound.EnableBgmPause(1, 30)
          _ARG_0_.TimeSoundHandle = Sound.Start(123, 16)
        end
      elseif _ARG_0_.step == 3 then
        if Effect.GetNowFrame(_ARG_0_.TimeSlipEffHandle) > 67 and _ARG_0_.workStep2 == 0 then
          _ARG_0_.workStep2 = 1
          Sound.EnablePauseAllSe(1, 12)
        end
        if Entity.GetMotionNowFrame(_ARG_0_.myHandle) < 55 then
          if _ARG_0_.TimeDmageFlag == 0 then
            FVECTOR3.set(WorkVec, 0, 0, 0.015)
            Entity.CalcVelocityXZ(_ARG_0_.myHandle, WorkVec)
          else
            FVECTOR3.set(WorkVec, 0, 0, -0.015)
            Entity.CalcVelocityXZ(_ARG_0_.myHandle, WorkVec)
          end
        else
          Entity.ClearSpeed(_ARG_0_.myHandle)
        end
        if _ARG_0_.NowHP > Enemy.GetHp(_ARG_0_.myHandle) then
          Enemy.AddHp(_ARG_0_.myHandle, 3)
        end
        if Entity.IsMotionEnd(_ARG_0_.myHandle) then
          Sound.EnablePauseAllSe(0, 12)
          Entity.ClearSpeed(_ARG_0_.myHandle)
          if Script.Random() < 0.333 then
            _ARG_0_.stack:push("Kakatootoshi_TimeSlip")
          elseif Script.Random() < 0.66666 then
            _ARG_0_.stack:push("Tornado_TimeSlip")
          else
            _ARG_0_.stack:push("CrossAttack_fom_TimeSlip")
          end
          _ARG_0_:GotoState(_ARG_0_.stack:pop(1))
        end
      end
      _ARG_0_.oldPlayerMuteki = Player.IsMuteki(_ARG_0_.targetHandle)
    end
  },
  CrossAttack_fom_TimeSlip = {
    OnBeginState = function(_ARG_0_)
      print("b01ex00:CrossAttack_fom_TimeSlip\n")
      _ARG_0_.step = 0
      Entity.GetRot(WorkRot, _ARG_0_.targetHandle)
      WorkVec:set(0, 0, 0)
      _ARG_0_.WarpMoveEffect = Entity.AttachEffect(_ARG_0_.myHandle, "b01ex00", "B035_WRP_LOC0_0", "center", WorkVec, WorkVec)
      Entity.GetWorldPos(WorkVec1, _ARG_0_.myHandle, 2)
      _ARG_0_.workStep = 0
      _ARG_0_:setLaserBlade()
      Entity.EnableGravity(_ARG_0_.myHandle, 0)
    end,
    OnEndState = function(_ARG_0_)
      Effect.LoopEnd(_ARG_0_.TimeSlipEffHandle)
      Sound.Reset(123)
      Script.EnablePauseChecker()
      Entity.EnableGravity(_ARG_0_.myHandle, 1)
    end,
    OnUpdate = function(_ARG_0_)
      Entity.EnableDamageColl(_ARG_0_.targetHandle, 1)
      if _ARG_0_.step == 0 then
        Entity.GetRot(WorkRot, _ARG_0_.targetHandle)
        WorkRot:set(0, WorkRot:gety() + DegToRad(Script.Random() * 180 - 90), 0)
        WorkVec:set(0, 0, 2)
        Math.RotateVectorXYZ(WorkVec, WorkRot)
        Entity.GetWorldPos(WorkVec5, _ARG_0_.myHandle)
        Entity.GetWorldPos(WorkVec1, _ARG_0_.targetHandle)
        WorkVec1:setx(WorkVec1:getx() + WorkVec:getx())
        WorkVec1:sety(WorkVec1:gety() + WorkVec:gety())
        WorkVec1:setz(WorkVec1:getz() + WorkVec:getz())
        Entity.SetLocalPos(_ARG_0_.myHandle, WorkVec1)
        Entity.SetupModelFade(_ARG_0_.myHandle, 0, 1, 20)
        _ARG_0_.step = 1
      elseif _ARG_0_.step == 1 then
        Entity.TurnTargetYDegree(_ARG_0_.myHandle, _ARG_0_.targetHandle, 180)
        Entity.GetWorldPos(WorkVec1, _ARG_0_.myHandle, 2)
        WorkVec:set(0, 0, 0)
        Entity.AttachEffect(_ARG_0_.myHandle, "b01ex00", "B035_BUN_LOS0_0", "center", WorkVec, WorkVec)
        _ARG_0_.step = 2
      elseif _ARG_0_.step == 2 then
        _ARG_0_.step = 3
        _ARG_0_:setMotion(_UPVALUE0_)
      elseif _ARG_0_.step == 3 then
        Entity.TurnTargetYDegree(_ARG_0_.myHandle, _ARG_0_.targetHandle, 5)
        if Entity.GetMotionNowFrame(_ARG_0_.myHandle) >= 0 and _ARG_0_.workStep == 0 then
          _ARG_0_.workStep = 1
          Script.SetObjStart(OBJ_BIT_PLAYER, OBJ_BIT_PRIZE, OBJ_BIT_BULLET)
          Player.StartDeck(_ARG_0_.targetHandle)
          Sound.CrossFade(122, 16)
          Effect.LoopEnd(_ARG_0_.TimeSlipEffHandle)
        end
        if Entity.GetMotionNowFrame(_ARG_0_.myHandle) >= 25 then
          _ARG_0_:CrossBullet(_ARG_0_.myHandle)
          _ARG_0_.step = 4
        end
      elseif _ARG_0_.step == 4 then
        if Entity.IsMotionEnd(_ARG_0_.myHandle) then
          _ARG_0_.stack:push("BattleIdling")
          _ARG_0_:GotoState(_ARG_0_.stack:pop(1))
        end
      elseif _ARG_0_.step == 2 then
      end
    end
  },
  Tornado_TimeSlip = {
    OnBeginState = function(_ARG_0_)
      print("b01ex00:Tornado_TimeSlip\n")
      _ARG_0_.step = 0
      Entity.GetRot(WorkRot, _ARG_0_.targetHandle)
      WorkVec:set(0, 0, 0)
      _ARG_0_.WarpMoveEffect = Entity.AttachEffect(_ARG_0_.myHandle, "b01ex00", "B035_WRP_LOC0_0", "center", WorkVec, WorkVec)
      Entity.GetWorldPos(WorkVec1, _ARG_0_.myHandle, 2)
      _ARG_0_.workStep = 0
      Enemy.EnableNoDamageReaction(_ARG_0_.myHandle, 1)
    end,
    OnEndState = function(_ARG_0_)
      Effect.LoopEnd(_ARG_0_.TimeSlipEffHandle)
      Enemy.EnableNoDamageReaction(_ARG_0_.myHandle, 0)
      Sound.Reset(123)
      Script.EnablePauseChecker()
    end,
    OnUpdate = function(_ARG_0_)
      Entity.EnableDamageColl(_ARG_0_.targetHandle, 1)
      if _ARG_0_.step == 0 then
        Entity.GetRot(WorkRot, _ARG_0_.targetHandle)
        WorkRot:set(0, WorkRot:gety() + DegToRad(Script.Random() * 180 - 90 + 180), 0)
        WorkVec:set(0, 0, 2)
        Math.RotateVectorXYZ(WorkVec, WorkRot)
        Entity.GetWorldPos(WorkVec5, _ARG_0_.myHandle)
        Entity.GetWorldPos(WorkVec1, _ARG_0_.targetHandle)
        WorkVec1:setx(WorkVec1:getx() + WorkVec:getx())
        WorkVec1:sety(WorkVec5:gety())
        WorkVec1:setz(WorkVec1:getz() + WorkVec:getz())
        Collision.IntersectRayBg(WorkVec1, COLL_KIND_ENEMY, WorkVec5, WorkVec1)
        Entity.SetLocalPos(_ARG_0_.myHandle, WorkVec1)
        Entity.SetupModelFade(_ARG_0_.myHandle, 0, 1, 20)
        _ARG_0_.step = 1
      elseif _ARG_0_.step == 1 then
        Entity.TurnTargetYDegree(_ARG_0_.myHandle, _ARG_0_.targetHandle, 180)
        Entity.GetWorldPos(WorkVec1, _ARG_0_.myHandle, 2)
        WorkVec:set(0, 0, 0)
        Entity.AttachEffect(_ARG_0_.myHandle, "b01ex00", "B035_BUN_LOS0_0", "center", WorkVec, WorkVec)
        _ARG_0_.step = 2
      elseif _ARG_0_.step == 2 then
        _ARG_0_.step = 3
        _ARG_0_:setMotion(_UPVALUE0_)
      elseif _ARG_0_.step == 3 then
        Entity.TurnTargetYDegree(_ARG_0_.myHandle, _ARG_0_.targetHandle, 5)
        if Entity.GetMotionNowFrame(_ARG_0_.myHandle) >= 12 and _ARG_0_.workStep == 0 then
          _ARG_0_.workStep = 1
          Script.SetObjStart(OBJ_BIT_PLAYER, OBJ_BIT_PRIZE, OBJ_BIT_BULLET)
          Player.StartDeck(_ARG_0_.targetHandle)
          Sound.CrossFade(122, 16)
          Effect.LoopEnd(_ARG_0_.TimeSlipEffHandle)
        end
        if Entity.GetMotionNowFrame(_ARG_0_.myHandle) > 25 then
          _ARG_0_:CreateTornado(_ARG_0_.myHandle, 0)
          _ARG_0_.step = 4
        end
      elseif _ARG_0_.step == 4 then
        if Entity.IsMotionEnd(_ARG_0_.myHandle) then
          Enemy.EnableNoDamageReaction(_ARG_0_.myHandle, 0)
          _ARG_0_.stack:push("BattleIdling")
          _ARG_0_:GotoState(_ARG_0_.stack:pop(1))
        end
      elseif _ARG_0_.step == 2 then
      end
    end
  },
  Kakatootoshi_TimeSlip = {
    OnBeginState = function(_ARG_0_)
      print("b01ex00:Kakatootoshi_TimeSlip\n")
      _ARG_0_.step = 0
      Entity.GetRot(WorkRot, _ARG_0_.targetHandle)
      WorkVec:set(0, 0, 0)
      _ARG_0_.WarpMoveEffect = Entity.AttachEffect(_ARG_0_.myHandle, "b01ex00", "B035_WRP_LOC0_0", "hip", WorkVec, WorkVec)
      Entity.GetWorldPos(WorkVec1, _ARG_0_.myHandle, 2)
      _ARG_0_.workStep = 0
      Enemy.EnableNoDamageReaction(_ARG_0_.myHandle, 0)
      if Entity.GetMotionNowFrame(_ARG_0_.myHandle) >= ATTACK_PARAM[_UPVALUE0_].StartFrame_Kakato and _ARG_0_.workStep == 0 then
        _ARG_0_.workStep = 1
        Script.SetObjStart(OBJ_BIT_PLAYER, OBJ_BIT_PRIZE, OBJ_BIT_BULLET)
        Player.StartDeck(_ARG_0_.targetHandle)
        Sound.CrossFade(122, 16)
        Effect.LoopEnd(_ARG_0_.TimeSlipEffHandle)
      end
      Entity.EnableGravity(_ARG_0_.myHandle, 0)
    end,
    OnEndState = function(_ARG_0_)
      Effect.LoopEnd(_ARG_0_.TimeSlipEffHandle)
      Enemy.EnableNoDamageReaction(_ARG_0_.myHandle, 0)
      Entity.EnableGravity(_ARG_0_.myHandle, 1)
      Sound.Reset(123)
      Script.EnablePauseChecker()
    end,
    OnUpdate = function(_ARG_0_)
      Entity.EnableDamageColl(_ARG_0_.targetHandle, 1)
      if _ARG_0_.step == 0 then
        Entity.GetRot(WorkRot, _ARG_0_.targetHandle)
        WorkRot:set(0, WorkRot:gety(), 0)
        WorkVec:set(0, 0, 1.5)
        Math.RotateVectorXYZ(WorkVec, WorkRot)
        Entity.GetWorldPos(WorkVec1, _ARG_0_.targetHandle)
        Entity.GetWorldPos(WorkVec2, _ARG_0_.myHandle)
        WorkVec1:setx(WorkVec1:getx() + WorkVec:getx())
        WorkVec1:sety(WorkVec1:gety() - Entity.GetFloorDistance(_ARG_0_.targetHandle))
        WorkVec1:setz(WorkVec1:getz() + WorkVec:getz())
        Entity.GetWorldPos(WorkVec3, _ARG_0_.targetHandle, 2)
        Collision.IntersectRayBg(WorkVec1, COLL_KIND_ENEMY, WorkVec3, WorkVec1)
        Entity.SetLocalPos(_ARG_0_.myHandle, WorkVec1)
        Entity.SetupModelFade(_ARG_0_.myHandle, 0, 1, 20)
        _ARG_0_.step = 1
      elseif _ARG_0_.step == 1 then
        Entity.TurnTargetYDegree(_ARG_0_.myHandle, _ARG_0_.targetHandle, 180)
        Entity.GetWorldPos(WorkVec1, _ARG_0_.myHandle, 2)
        WorkVec:set(0, 0, 0)
        Entity.AttachEffect(_ARG_0_.myHandle, "b01ex00", "B035_BUN_LOS0_0", "hip", WorkVec, WorkVec)
        _ARG_0_.step = 2
        _ARG_0_:setMotion(_UPVALUE0_)
      elseif _ARG_0_.step == 2 then
        _ARG_0_.step = 3
        _ARG_0_.HitFlag = 0
      elseif _ARG_0_.step == 3 then
        if Entity.GetMotionNowFrame(_ARG_0_.myHandle) < 25 then
          Entity.GetRot(WorkRot, _ARG_0_.targetHandle)
          WorkRot:set(0, WorkRot:gety(), 0)
          WorkVec:set(0, 0, 1.5)
          Math.RotateVectorXYZ(WorkVec, WorkRot)
          Entity.GetWorldPos(WorkVec1, _ARG_0_.targetHandle)
          Entity.GetWorldPos(WorkVec2, _ARG_0_.myHandle)
          WorkVec1:setx(WorkVec1:getx() + WorkVec:getx())
          WorkVec1:sety(WorkVec1:gety() - Entity.GetFloorDistance(_ARG_0_.targetHandle))
          WorkVec1:setz(WorkVec1:getz() + WorkVec:getz())
          Entity.GetWorldPos(WorkVec3, _ARG_0_.targetHandle)
          Collision.IntersectRayBg(WorkVec1, COLL_KIND_ENEMY, WorkVec3, WorkVec1)
          Entity.SetLocalPos(_ARG_0_.myHandle, WorkVec1)
        end
        Entity.TurnTargetYDegree(_ARG_0_.myHandle, _ARG_0_.targetHandle, 10)
        if _ARG_0_.HitFlag == 1 then
          _ARG_0_.HitFlag = 2
        elseif _ARG_0_.HitFlag == 2 then
          WorkVec:set(0, 0, 0)
          Entity.GetWorldPos2(WorkVec, _ARG_0_.targetHandle, WorkVec)
          WorkVec1:set(0, 5, 4)
          Entity.GetWorldPos2(WorkVec1, _ARG_0_.myHandle, WorkVec1)
          FVECTOR3.Sub(WorkVec, WorkVec, WorkVec1)
          FVECTOR3.normalize(WorkVec)
          WorkVec:scale(-15)
          Player.SetDamage(_ARG_0_.targetHandle, 0, ATK_KIND_DMG_TOSS, 0, 0, WorkVec)
          _ARG_0_.HitFlag = 0
          EffectLoopEnd(_ARG_0_.myHandle)
          Effect.LoopEnd(_ARG_0_.DeatCaptureEffect)
        end
        if Entity.IsMotionEnd(_ARG_0_.myHandle) then
          _ARG_0_.stack:push("BattleIdling")
          _ARG_0_:GotoState(_ARG_0_.stack:pop(1))
        end
      elseif _ARG_0_.step == 4 then
      elseif _ARG_0_.step == 2 then
      end
    end
  },
  attack1 = {
    OnBeginState = function(_ARG_0_)
      print("b01ex00:attack1\n")
      Entity.SetTimer(_ARG_0_.myHandle, 480)
      _ARG_0_:CreateBullet(_ARG_0_.myHandle)
    end,
    OnEndState = function(_ARG_0_)
    end,
    OnUpdate = function(_ARG_0_)
      if Entity.IsTimeOver(_ARG_0_.myHandle) == false then
        return
      end
      _ARG_0_:GotoState("Idling")
    end
  },
  KonbAttack = {
    OnBeginState = function(_ARG_0_)
      print("b01ex00:KonbAttack\n")
      _ARG_0_.step = 0
      _ARG_0_:setMotion(_UPVALUE0_)
      _ARG_0_:setLaserBlade()
      _ARG_0_.HitFlag = 0
      _ARG_0_.workStep = 0
      _ARG_0_.reflectRetrun = 1
      Enemy.EnableNoDamageReaction(_ARG_0_.myHandle, 1)
      Entity.SetAttackerHandle(_ARG_0_.targetHandle, _ARG_0_.myHandle)
    end,
    OnEndState = function(_ARG_0_)
      Entity.SetRootMoveScale(_ARG_0_.myHandle, 1, 1, 1)
      if _ARG_0_.HitFlag == 0 then
        _ARG_0_:deleteLaserBlade(_UPVALUE0_)
      end
      _ARG_0_:deleteLaserBlade(_UPVALUE0_)
      _ARG_0_:setLaserBlade()
      Enemy.EnableNoDamageReaction(_ARG_0_.myHandle, 0)
    end,
    OnUpdate = function(_ARG_0_)
      if _ARG_0_.step == 0 then
        if Entity.CalcDistance(_ARG_0_.myHandle, _ARG_0_.targetHandle) > 2 then
        end
        Entity.SetRootMoveScale(_ARG_0_.myHandle, 1 * ATTACK_PARAM[_UPVALUE0_].Homing, 1, 1 * ATTACK_PARAM[_UPVALUE0_].Homing)
        Entity.TurnTargetYDegree(_ARG_0_.myHandle, _ARG_0_.targetHandle, 10)
        if _ARG_0_.workStep == 0 then
          if Entity.GetMotionNowFrame(_ARG_0_.myHandle) >= 30 then
            _ARG_0_:setLaserBlade(_UPVALUE1_, _UPVALUE2_)
            _ARG_0_:deleteLaserBlade(_UPVALUE3_)
            _ARG_0_:deleteLaserBlade(_UPVALUE4_)
            _ARG_0_.workStep = 1
          end
        elseif _ARG_0_.workStep == 1 then
          if Entity.GetMotionNowFrame(_ARG_0_.myHandle) >= 43 then
            _ARG_0_:deleteLaserBlade(_UPVALUE1_)
            _ARG_0_:setLaserBlade()
          elseif Entity.GetMotionNowFrame(_ARG_0_.myHandle) > 48 then
            _ARG_0_:deleteLaserBlade(_UPVALUE1_)
            _ARG_0_:setLaserBlade()
            _ARG_0_.workStep = 2
          end
          Enemy.EnableNoDamageReaction(_ARG_0_.myHandle, 0)
        end
        if Entity.IsMotionEnd(_ARG_0_.myHandle) then
          _ARG_0_:setMotion(_UPVALUE5_)
          _ARG_0_.step = 1
        end
      elseif _ARG_0_.step == 1 and Entity.IsTimeOver(_ARG_0_.myHandle) then
        _ARG_0_:GotoState(_ARG_0_.stack:pop(1))
      end
    end
  },
  DansingAttack = {
    OnBeginState = function(_ARG_0_)
      print("b01ex00:DansingAttack\n")
      _ARG_0_.step = 0
      _ARG_0_.reflectRetrun = 1
      _ARG_0_.step = 0
      _ARG_0_:setMotion(_UPVALUE0_)
      _ARG_0_:setLaserBlade()
      _ARG_0_.HitFlag = 0
      _ARG_0_.workStep = 0
      _ARG_0_.reflectRetrun = 1
      _ARG_0_.HitFlag = 0
      _ARG_0_.Speed = 0
      Enemy.EnableNoDamageReaction(_ARG_0_.myHandle, 1)
      Entity.SetAttackerHandle(_ARG_0_.targetHandle, _ARG_0_.myHandle)
    end,
    OnEndState = function(_ARG_0_)
      Enemy.EnableNoDamageReaction(_ARG_0_.myHandle, 0)
      Entity.SetRootMoveScale(_ARG_0_.myHandle, 1, 1, 1)
      Entity.ClearSpeed(_ARG_0_.myHandle)
    end,
    OnUpdate = function(_ARG_0_)
      if _ARG_0_.workStep == 0 or _ARG_0_.workStep == 1 then
        if _ARG_0_.step == 0 then
          Entity.TurnTargetYDegree(_ARG_0_.myHandle, _ARG_0_.targetHandle, 10)
          Entity.SetRootMoveScale(_ARG_0_.myHandle, 0, 1, 0)
          _ARG_0_:MoveEx(ATTACK_PARAM[_UPVALUE0_].Speed, 0.5)
          if Entity.GetMotionNowFrame(_ARG_0_.myHandle) >= ATTACK_PARAM[_UPVALUE1_].CancelFrame then
            _ARG_0_:setLaserBlade(_UPVALUE2_, _UPVALUE3_)
            _ARG_0_:deleteLaserBlade(_UPVALUE4_)
            _ARG_0_:deleteLaserBlade(_UPVALUE5_)
            _ARG_0_.step = 0
            _ARG_0_:setMotion(_UPVALUE6_)
            _ARG_0_.reflectRetrun = 1
            _ARG_0_.workStep = 2
            Entity.ClearSpeed(_ARG_0_.myHandle)
            _ARG_0_.HitFlag = 0
            return
          end
          if Entity.GetMotionNowFrame(_ARG_0_.myHandle) >= 26 then
            _ARG_0_:setLaserBlade(_UPVALUE2_, _UPVALUE3_)
            _ARG_0_:deleteLaserBlade(_UPVALUE4_)
            _ARG_0_:deleteLaserBlade(_UPVALUE5_)
            _ARG_0_.workStep = 1
            _ARG_0_.HitFlag = 0
          end
        end
      elseif _ARG_0_.step == 0 then
        Entity.TurnTargetYDegree(_ARG_0_.myHandle, _ARG_0_.targetHandle, 15)
        if Entity.GetMotionNowFrame(_ARG_0_.myHandle) > 95 then
          Entity.ClearSpeed(_ARG_0_.myHandle)
        elseif Entity.GetMotionNowFrame(_ARG_0_.myHandle) > 70 and Entity.GetMotionNowFrame(_ARG_0_.myHandle) < 111 then
          if Entity.CalcDistance(_ARG_0_.myHandle, _ARG_0_.targetHandle) < 3 then
            Entity.SetRootMoveScale(_ARG_0_.myHandle, 0, 1, 0)
            _ARG_0_:MoveEx(ATTACK_PARAM[_UPVALUE1_].Speed / 2, 0.5)
          else
            Entity.SetRootMoveScale(_ARG_0_.myHandle, 0, 1, 0)
            _ARG_0_:MoveEx(ATTACK_PARAM[_UPVALUE1_].Speed, 0.5)
          end
        elseif Entity.CalcDistance(_ARG_0_.myHandle, _ARG_0_.targetHandle) < 3 then
          Entity.SetRootMoveScale(_ARG_0_.myHandle, 0, 1, 0)
          _ARG_0_:MoveEx(ATTACK_PARAM[_UPVALUE1_].Speed / 2, 0.5)
        else
          Entity.SetRootMoveScale(_ARG_0_.myHandle, 0, 1, 0)
          _ARG_0_:MoveEx(ATTACK_PARAM[_UPVALUE1_].Speed, 0.5)
        end
        if Entity.GetMotionNowFrame(_ARG_0_.myHandle) > 32 and Entity.GetMotionNowFrame(_ARG_0_.myHandle) < 34 then
          _ARG_0_:deleteLaserBlade(_UPVALUE2_)
        elseif Entity.GetMotionNowFrame(_ARG_0_.myHandle) > 37 and Entity.GetMotionNowFrame(_ARG_0_.myHandle) < 63 then
          _ARG_0_:deleteLaserBlade(_UPVALUE2_)
          _ARG_0_:setLaserBlade()
        elseif Entity.GetMotionNowFrame(_ARG_0_.myHandle) > 64 and Entity.GetMotionNowFrame(_ARG_0_.myHandle) < 73 then
          _ARG_0_:setLaserBlade(_UPVALUE2_, _UPVALUE3_)
          _ARG_0_:deleteLaserBlade(_UPVALUE4_)
          _ARG_0_:deleteLaserBlade(_UPVALUE5_)
        elseif Entity.GetMotionNowFrame(_ARG_0_.myHandle) > 70 and Entity.GetMotionNowFrame(_ARG_0_.myHandle) < 111 then
          _ARG_0_:deleteLaserBlade(_UPVALUE2_)
          _ARG_0_:setLaserBlade()
        elseif Entity.GetMotionNowFrame(_ARG_0_.myHandle) > 100 then
          Enemy.EnableNoDamageReaction(_ARG_0_.myHandle, 0)
          Entity.ClearSpeed(_ARG_0_.myHandle)
        end
        if Entity.IsMotionEnd(_ARG_0_.myHandle) then
          _ARG_0_:setMotion(_UPVALUE7_)
          _ARG_0_.step = 1
        end
      elseif _ARG_0_.step == 1 and Entity.IsTimeOver(_ARG_0_.myHandle) then
        _ARG_0_:GotoState(_ARG_0_.stack:pop(1))
      end
    end
  },
  RashAttack = {
    OnBeginState = function(_ARG_0_)
      print("b01ex00:RashAttack\n")
      _ARG_0_.step = -1
      _ARG_0_:setMotion(_UPVALUE0_)
      _ARG_0_.HitFlag = 0
      _ARG_0_.reflectRetrun = 0
      _ARG_0_:setLaserBlade(_UPVALUE1_, _UPVALUE2_)
      _ARG_0_:deleteLaserBlade(_UPVALUE3_)
      _ARG_0_:deleteLaserBlade(_UPVALUE4_)
      Enemy.EnableNoDamageReaction(_ARG_0_.myHandle, 1)
    end,
    OnEndState = function(_ARG_0_)
      Entity.SetRootMoveScale(_ARG_0_.myHandle, 1, 1, 1)
      Entity.ClearSpeed(_ARG_0_.myHandle)
      _ARG_0_:deleteLaserBlade(_UPVALUE0_)
      Enemy.EnableNoDamageReaction(_ARG_0_.myHandle, 0)
    end,
    OnUpdate = function(_ARG_0_)
      if _ARG_0_.step == -1 then
        Entity.TurnTargetYDegree(_ARG_0_.myHandle, _ARG_0_.targetHandle, 180)
        _ARG_0_.step = 0
      elseif _ARG_0_.step == 0 then
        if Entity.GetMotionNowFrame(_ARG_0_.myHandle) >= 26 then
          _ARG_0_:deleteLaserBlade(_UPVALUE0_)
          _ARG_0_:setLaserBlade()
        end
        Entity.TurnTargetYDegree(_ARG_0_.myHandle, _ARG_0_.targetHandle, 1)
        if Entity.CalcDistance(_ARG_0_.myHandle, _ARG_0_.targetHandle) > 1 then
        else
        end
        Entity.SetRootMoveScale(_ARG_0_.myHandle, 1 / 12, 1, 1 / 12)
        if _ARG_0_.HitFlag == 1 then
          _ARG_0_.HitFlag = 2
        elseif _ARG_0_.HitFlag == 2 then
          WorkVec:set(0, 5, 0)
          Entity.GetWorldPos2(WorkVec, _ARG_0_.targetHandle, WorkVec)
          WorkVec1:set(0, 0, 0.1)
          Entity.GetWorldPos2(WorkVec1, _ARG_0_.myHandle, WorkVec1)
          FVECTOR3.Sub(WorkVec, WorkVec, WorkVec1)
          FVECTOR3.normalize(WorkVec)
          WorkVec:scale(15)
          Player.SetDamage(_ARG_0_.targetHandle, 0, ATK_KIND_DMG_TOSS, 0, 0, WorkVec)
          _ARG_0_.step = 1
          Entity.SetTimer(_ARG_0_.myHandle, 20)
          Entity.SetRootMoveScale(_ARG_0_.myHandle, 0, 1, 0)
          _ARG_0_.HitFlag = 1
        elseif Entity.IsMotionEnd(_ARG_0_.myHandle) then
          _ARG_0_.step = 4
          Entity.SetRootMoveScale(_ARG_0_.myHandle, 1, 1, 1)
        end
      elseif _ARG_0_.step == 1 then
        if Entity.IsTimeOver(_ARG_0_.myHandle) then
          _ARG_0_.step = 2
          _ARG_0_.HitFlag = 0
          _ARG_0_:setMotion(_UPVALUE1_)
          _ARG_0_:setLaserBlade()
          _ARG_0_:deleteLaserBlade(_UPVALUE0_)
        end
      elseif _ARG_0_.step == 2 then
        Entity.TurnTargetYDegree(_ARG_0_.myHandle, _ARG_0_.targetHandle, 10)
        Entity.GetWorldPos(WorkVec, _ARG_0_.targetHandle)
        Entity.GetWorldPos(WorkVec0, _ARG_0_.myHandle)
        FVECTOR3.Sub(WorkVec1, WorkVec, WorkVec0)
        FVECTOR3.normalize(WorkVec1)
        if 1 / 12 > 20 then
        else
        end
        WorkVec1:scale(0)
        Entity.SetVelocity(_ARG_0_.myHandle, WorkVec1)
        if Entity.IsMotionEnd(_ARG_0_.myHandle) then
          Entity.ClearSpeed(_ARG_0_.myHandle)
          _ARG_0_.step = 3
        end
      elseif _ARG_0_.step == 3 then
        _ARG_0_.stack:push("FallToLanding")
        _ARG_0_:GotoState(_ARG_0_.stack:pop(1))
      elseif _ARG_0_.step == 4 then
        _ARG_0_:GotoState(_ARG_0_.stack:pop(1))
      end
    end
  },
  CrossAttack = {
    OnBeginState = function(_ARG_0_)
      print("b01ex00:CrossAttack\n")
      _ARG_0_.step = 0
      _ARG_0_:setMotion(_UPVALUE0_)
      _ARG_0_:setLaserBlade()
      Entity.EnableGravity(_ARG_0_.myHandle, 1)
    end,
    OnEndState = function(_ARG_0_)
      Entity.EnableGravity(_ARG_0_.myHandle, 1)
      Entity.ClearSpeed(_ARG_0_.myHandle)
    end,
    OnUpdate = function(_ARG_0_)
      if _ARG_0_.step == 0 then
        if Entity.TurnTargetYDegree(_ARG_0_.myHandle, _ARG_0_.targetHandle, 10) == false then
          _ARG_0_.velocity:set(0, 0.11, -0.3)
          Entity.CalcVelocity(_ARG_0_.myHandle, _ARG_0_.velocity)
          _ARG_0_.step = 1
        end
      elseif _ARG_0_.step == 1 then
        Entity.GetVelocity(WorkVec, _ARG_0_.myHandle)
        if 0 >= WorkVec:gety() then
          Entity.ClearSpeed(_ARG_0_.myHandle)
          Entity.EnableGravity(_ARG_0_.myHandle, 0)
          _ARG_0_:setMotion(_UPVALUE0_)
          _ARG_0_.step = 2
          _ARG_0_.warkStep = 0
        end
      elseif _ARG_0_.step == 2 then
        if Entity.GetMotionNowFrame(_ARG_0_.myHandle) >= 25 and _ARG_0_.warkStep == 1 then
          _ARG_0_:CrossBullet(_ARG_0_.myHandle)
          _ARG_0_.warkStep = 2
        elseif Entity.GetMotionNowFrame(_ARG_0_.myHandle) >= 20 and _ARG_0_.warkStep == 0 then
          Entity.SetAttackerHandle(_ARG_0_.targetHandle, _ARG_0_.myHandle)
          _ARG_0_.warkStep = 1
          Entity.TurnTargetYDegree(_ARG_0_.myHandle, _ARG_0_.targetHandle, 10)
        end
        if Entity.IsMotionEnd(_ARG_0_.myHandle) then
          _ARG_0_:setMotion(_UPVALUE1_)
          Entity.EnableGravity(_ARG_0_.myHandle, 1)
          Entity.ClearSpeed(_ARG_0_.myHandle)
          _ARG_0_.stack:push("FallToLanding")
          _ARG_0_:GotoState(_ARG_0_.stack:pop(1))
        end
      elseif _ARG_0_.step == 4 then
        if Entity.IsGround(_ARG_0_.myHandle) then
          Entity.ClearSpeed(_ARG_0_.myHandle)
          _ARG_0_.step = 99
        end
      elseif Entity.IsMotionEnd(_ARG_0_.myHandle) then
      end
    end
  },
  Whip_Rush = {
    OnBeginState = function(_ARG_0_)
      print("b01ex00:Whip_Rush\n")
      _ARG_0_.step = 0
      _ARG_0_.workStep = 0
      _ARG_0_:setMotion(_UPVALUE0_)
      _ARG_0_.WhipSize = 0
      SetWhipSize(_ARG_0_.myHandle, 0)
      _ARG_0_.whipHit = 0
      _ARG_0_.HitFlag = 0
      _ARG_0_:deleteLaserBlade()
      Entity.SetRot(_ARG_0_.myHandle, 0, Entity.CalcDirection(_ARG_0_.myHandle, _ARG_0_.targetHandle), 0)
      Enemy.EnableNoDamageReaction(_ARG_0_.myHandle, 1)
    end,
    OnEndState = function(_ARG_0_)
      Enemy.EnableNoDamageReaction(_ARG_0_.myHandle, 0)
      SetWhipSize(_ARG_0_.myHandle, 2 / _UPVALUE0_)
      DeleteWhip(_ARG_0_.myHandle)
      Entity.ClearSpeed(_ARG_0_.myHandle)
      Enemy.EnableNoDamageReaction(_ARG_0_.myHandle, 0)
      EffectLoopEnd(_ARG_0_.myHandle)
      Effect.LoopEnd(_ARG_0_.DeatCaptureEffect)
      Entity.SetMotion(_ARG_0_.myHandle, _UPVALUE1_)
    end,
    OnUpdate = function(_ARG_0_)
      if _ARG_0_.step == 0 then
        WorkRot:set(0, Entity.CalcDirection(_ARG_0_.targetHandle, _ARG_0_.myHandle), 0)
        WorkVec:set(0, 0, 1)
        Math.RotateVectorXYZ(WorkVec, WorkRot)
        WorkVec:scale(6.5)
        Entity.GetWorldPos(WorkVec1, _ARG_0_.targetHandle)
        FVECTOR3.Add(WorkVec, WorkVec1, WorkVec)
        Entity.TurnTargetYDegree(_ARG_0_.myHandle, _ARG_0_.targetHandle, 16)
        Entity.GetRot(WorkRot, _ARG_0_.myHandle)
        WorkRot:sety(Entity.CalcDirection(_ARG_0_.myHandle, WorkVec))
        WorkVec2:set(0, 0, 1)
        Math.RotateVectorXYZ(WorkVec2, WorkRot)
        WorkVec2:scale(0.4)
        Entity.SetVelocity(_ARG_0_.myHandle, WorkVec2)
        if Entity.CalcDistanceSq(_ARG_0_.myHandle, WorkVec) < 0.010000001 then
          Entity.ClearSpeed(_ARG_0_.myHandle)
        end
        if Entity.GetMotionNowFrame(_ARG_0_.myHandle) > 10 then
          Entity.ClearSpeed(_ARG_0_.myHandle)
          if _ARG_0_.workStep == 0 then
            _ARG_0_:Whip_Rush_Bullet(_ARG_0_.myHandle)
            CreateElectWhip(_ARG_0_.myHandle, _ARG_0_.WhipHandle)
            AttachWihpTop(_ARG_0_.myHandle, _ARG_0_.WhipHandle)
            _ARG_0_.workStep = 1
          elseif _ARG_0_.workStep == 1 then
            _ARG_0_.WhipSize = _ARG_0_.WhipSize + 0.45 * Entity.GetFrameRate(_ARG_0_.myHandle)
            if _ARG_0_.WhipSize > 9 then
              _ARG_0_.WhipSize = 9
            end
            SetWhipSize(_ARG_0_.myHandle, _ARG_0_.WhipSize)
          end
        end
        if Entity.IsMotionEnd(_ARG_0_.myHandle) then
          _ARG_0_:setMotion(_UPVALUE0_)
          _ARG_0_.step = 2
          EffectLoopEnd(_ARG_0_.myHandle)
          _ARG_0_:WhipLoopEnd()
          Entity.ClearSpeed(_ARG_0_.myHandle)
          Bullet.EnableAttackCollision(_ARG_0_.WhipHandle, 0)
        end
        if _ARG_0_.whipHit == 1 then
          _ARG_0_.whipHit = 2
        elseif _ARG_0_.whipHit == 2 then
          if Player.IsMuteki(_ARG_0_.targetHandle) == false and Player.IsTrgFlagGuard(_ARG_0_.targetHandle) == false then
            _ARG_0_.step = 1
            _ARG_0_.HitFlag = 0
            _ARG_0_:setMotion(_UPVALUE1_)
            Entity.ClearSpeed(_ARG_0_.myHandle)
            _ARG_0_:setWhipCaptureEffect()
            Bullet.EnableAttackCollision(_ARG_0_.WhipHandle, 0)
            ChangeTarget(_ARG_0_.myHandle, _ARG_0_.targetHandle)
          else
            _ARG_0_.whipHit = 0
          end
        end
      elseif _ARG_0_.step == 1 then
        if _ARG_0_.HitFlag == 1 then
          _ARG_0_.HitFlag = 2
        elseif _ARG_0_.HitFlag == 2 then
          Entity.GetWorldPos(WorkVec, _ARG_0_.targetHandle, 0)
          WorkVec1:set(0, -1, 2)
          Entity.GetWorldPos2(WorkVec1, _ARG_0_.myHandle, WorkVec1)
          FVECTOR3.Sub(WorkVec, WorkVec, WorkVec1)
          FVECTOR3.normalize(WorkVec)
          WorkVec:scale(-8)
          Player.SetDamage(_ARG_0_.targetHandle, 0, ATK_KIND_DMG_TOSS, 0, 0, WorkVec)
          _ARG_0_.HitFlag = 3
        elseif _ARG_0_.HitFlag == 3 then
          if Entity.IsGround(_ARG_0_.targetHandle) then
            _ARG_0_.HitFlag = 4
            Effect.LoopEnd(_ARG_0_.DeatCaptureEffect)
            Entity.GetWorldPos(WorkVec, _ARG_0_.targetHandle, 2)
            WorkVec1:set(0, 0, 0)
            Entity.SetEffect(_ARG_0_.myHandle, "b01ex00", "B035_WIP_BIN2_0", WorkVec, WorkVec1)
          end
        elseif _ARG_0_.HitFlag == 4 then
          WorkVec:set(0, 8, 0)
          FVECTOR3.normalize(WorkVec)
          WorkVec:scale(8)
          Player.SetDamage(_ARG_0_.targetHandle, 0, ATK_KIND_DMG_TOSS, 0, 0, WorkVec)
          _ARG_0_.HitFlag = 0
        end
        _ARG_0_.WhipSize = _ARG_0_.WhipSize - 0.2 * Entity.GetFrameRate(_ARG_0_.myHandle)
        if _ARG_0_.WhipSize < 0.02 then
          EffectLoopEnd(_ARG_0_.myHandle)
          _ARG_0_:WhipLoopEnd()
          _ARG_0_.WhipSize = 0.02
        else
          SetWhipSize(_ARG_0_.myHandle, _ARG_0_.WhipSize / _UPVALUE2_)
        end
        if Entity.IsMotionEnd(_ARG_0_.myHandle) then
          _ARG_0_:GotoState(_ARG_0_.stack:pop(1))
        end
      elseif _ARG_0_.step == 2 then
        _ARG_0_.WhipSize = _ARG_0_.WhipSize - 0.2 * Entity.GetFrameRate(_ARG_0_.myHandle)
        if _ARG_0_.WhipSize < 0.01 then
          _ARG_0_.WhipSize = 0.01
          DeleteWhip(_ARG_0_.myHandle)
        else
          SetWhipSize(_ARG_0_.myHandle, _ARG_0_.WhipSize / _UPVALUE2_)
        end
        if Entity.IsMotionEnd(_ARG_0_.myHandle) then
          _ARG_0_:GotoState(_ARG_0_.stack:pop(1))
        end
      end
    end
  },
  Random_Laser = {
    OnBeginState = function(_ARG_0_)
      print("b01ex00:Random_Laser\n")
      _ARG_0_.step = 0
      _ARG_0_.Timer = 0
      _ARG_0_.RandomCouner = 0
      _ARG_0_:setMotion(_UPVALUE0_)
      _ARG_0_:deleteLaserBlade()
      _ARG_0_.workStep = 0
      _ARG_0_:initLaserBit()
      _ARG_0_.Speed = 0
      _ARG_0_.RandomStateCouner = _ARG_0_.RandomStateCouner + 1
    end,
    OnEndState = function(_ARG_0_)
      Entity.ClearSpeed(_ARG_0_.myHandle)
    end,
    OnUpdate = function(_ARG_0_)
      _ARG_0_.Timer = _ARG_0_.Timer - 1 * Entity.GetFrameRate(_ARG_0_.myHandle)
      if _ARG_0_.step == 0 then
        Entity.TurnTargetYDegree(_ARG_0_.myHandle, _ARG_0_.targetHandle, 9)
        if Entity.GetMotionNowFrame(_ARG_0_.myHandle) > 10 and _ARG_0_.RandomCouner < 5 and _ARG_0_.Timer < 10 then
          _ARG_0_:CreateRandomBit(_ARG_0_.myHandle, 0, _ARG_0_.workStep)
          _ARG_0_:CreateRandomBit(_ARG_0_.myHandle, 1, _ARG_0_.workStep)
          _ARG_0_:CreateRandomBit(_ARG_0_.myHandle, 2, _ARG_0_.workStep)
          _ARG_0_:CreateRandomBit(_ARG_0_.myHandle, 3, _ARG_0_.workStep)
          _ARG_0_.workStep = _ARG_0_.workStep + 1
          _ARG_0_.Timer = 10
          _ARG_0_.RandomCouner = _ARG_0_.RandomCouner + 1
        end
        if Entity.IsMotionEnd(_ARG_0_.myHandle) then
          Enemy.EnableNoDamageReaction(_ARG_0_.myHandle, 0)
          if _ARG_0_:RestHpRate() > 0.5 then
            _ARG_0_.step = 1
            Entity.SetTimer(_ARG_0_.myHandle, _UPVALUE0_.LaserNFrame)
            _ARG_0_:setMotion(_UPVALUE1_)
          else
            _ARG_0_:GotoState(_ARG_0_.stack:pop(1))
          end
        end
      elseif _ARG_0_.step == 1 then
        if _ARG_0_:Defense() then
          return
        end
        if Entity.CalcDistanceSq(_ARG_0_.myHandle, _ARG_0_.targetHandle) < 25 then
          if Entity.IsTargetWithinFOV(_ARG_0_.myHandle, _ARG_0_.targetHandle, DegToRad(45)) == true then
            Entity.ClearSpeed(_ARG_0_.myHandle)
            _ARG_0_:setMotion(_UPVALUE1_, 1)
            _ARG_0_.Speed = 0
          else
            _ARG_0_:MoveEx(_UPVALUE0_.WalkSpeed, 0.01)
            _ARG_0_:setMotion(_UPVALUE2_, 1)
            Entity.TurnTargetYDegree(_ARG_0_.myHandle, _ARG_0_.targetHandle, 2)
          end
        elseif Entity.CalcDistanceSq(_ARG_0_.myHandle, _ARG_0_.targetHandle) > 49 then
          _ARG_0_:setMotion(_UPVALUE2_, 1)
          _ARG_0_.MoveFlag = _UPVALUE3_
          _ARG_0_:MoveEx(_UPVALUE0_.WalkSpeed, 0.1)
          Entity.TurnTargetYDegree(_ARG_0_.myHandle, _ARG_0_.targetHandle, 1)
        else
          Entity.ClearSpeed(_ARG_0_.myHandle)
          _ARG_0_:setMotion(_UPVALUE1_, 1)
          _ARG_0_.Speed = 0
        end
        if Entity.IsTimeOver(_ARG_0_.myHandle) then
          _ARG_0_:GotoState(_ARG_0_.stack:pop(1))
          return
        end
      elseif _ARG_0_.step == 2 then
      end
    end
  },
  Restraint_Death = {
    OnBeginState = function(_ARG_0_)
      print("b01ex00:Restraint_Death\n")
      _ARG_0_.step = 0
      Enemy.SetGeneralPurposeAttackColl(_ARG_0_.myHandle, COLL_KIND_ENEMY, COLL_SHAPE_CYLINDER, 0.25)
      Enemy.SetGeneralPurposeAttackCollParam(_ARG_0_.myHandle, Enemy.GetAttackKind(_ARG_0_.myHandle, 6), Enemy.GetAttackAttr(_ARG_0_.myHandle, 6), Enemy.GetAttackPoint(_ARG_0_.myHandle, 6), Enemy.GetAttackPowerCorrection(_ARG_0_.myHandle, 6))
      Enemy.EnableGeneralPurposeAttackColl(_ARG_0_.myHandle, 0)
      _ARG_0_.targetHandle2 = Player.GetHandle()
      _ARG_0_.HitFlag = 0
      _ARG_0_.reflectFlag = 0
      _ARG_0_.reflectRetrun = 1
      _ARG_0_:deleteLaserBlade()
      _ARG_0_:setMotion(_UPVALUE0_)
      Entity.TurnTargetYDegree(_ARG_0_.myHandle, _ARG_0_.targetHandle, 180)
      Enemy.EnableNoDamageReaction(_ARG_0_.myHandle, 1)
      _ARG_0_.loopEndTaimer = ATTACK_PARAM.DeathTimer
    end,
    OnEndState = function(_ARG_0_)
      _ARG_0_.reflectRetrun = 0
      Effect.LoopEnd(_ARG_0_.restraintHandle)
      Effect.LoopEnd(_ARG_0_.handDeattHandle)
      Effect.LoopEnd(_ARG_0_.DeatCaptureEffect)
      Script.OutTask(_ARG_0_.camera)
      Enemy.EnableNoDamageReaction(_ARG_0_.myHandle, 0)
    end,
    OnUpdate = function(_ARG_0_)
      if _ARG_0_.step == 0 then
        if Entity.GetMotionNowFrame(_ARG_0_.myHandle) >= 3 then
          Entity.GetWorldPos(WorkVec, _ARG_0_.myHandle, _UPVALUE0_)
          Entity.GetWorldPos(WorkVec1, _ARG_0_.targetHandle2, 2)
          FVECTOR3.Sub(WorkVec1, WorkVec1, WorkVec)
          WorkVec1:normalize()
          WorkVec:set(0, 0, 0)
          WorkRot:set(-Math.Atan2(WorkVec1:gety(), Math.Sqrt(WorkVec1:getx() * WorkVec1:getx() + WorkVec1:getz() * WorkVec1:getz())), Math.Atan2(WorkVec1:getx(), WorkVec1:getz()), 0)
          WorkRot2:set(-Math.Atan2(WorkVec1:gety(), Math.Sqrt(WorkVec1:getx() * WorkVec1:getx() + WorkVec1:getz() * WorkVec1:getz())), Math.Atan2(WorkVec1:getx(), WorkVec1:getz()), 0)
          _ARG_0_.restraintHandle = Entity.AttachEffect(_ARG_0_.myHandle, "b01ex00", "B035_DTH_ATK0_0", _UPVALUE1_, WorkVec, WorkRot)
          Effect.SetAttachNoRot(_ARG_0_.restraintHandle, true)
          WorkVec3:set(1, 1, 0)
          Effect.SetScale(_ARG_0_.restraintHandle, WorkVec3)
          Enemy.SetGeneralPurposeAttackCollPos(_ARG_0_.myHandle, WorkVec, WorkVec)
          Entity.SetAttackerHandle(_ARG_0_.targetHandle, _ARG_0_.myHandle)
          _ARG_0_.stringScale = 0
          _ARG_0_.DeatEffectSize = 0
          _ARG_0_.step = 1
          Entity.GetWorldPos(WorkVec5, _ARG_0_.targetHandle, 2)
          _ARG_0_.workStep = 0
        end
      elseif _ARG_0_.step == 1 then
        if Effect.IsAlive(_ARG_0_.restraintHandle) then
          Entity.GetWorldPos(WorkVec, _ARG_0_.myHandle, _UPVALUE0_)
          WorkVec1:set(WorkVec5:getx(), WorkVec5:gety(), WorkVec5:getz())
          WorkVec4:set(WorkVec5:getx(), WorkVec5:gety(), WorkVec5:getz())
          WorkRot:set(WorkRot2:getx(), WorkRot2:gety(), WorkRot2:getz())
          FVECTOR3.Sub(WorkVec1, WorkVec1, WorkVec)
          WorkVec1:normalize()
          if _ARG_0_.workStep < 30 then
            Entity.GetWorldPos(WorkVec5, _ARG_0_.targetHandle, 2)
            Entity.TurnTargetYDegree(_ARG_0_.myHandle, _ARG_0_.targetHandle, 180)
            WorkVec2:set(0, 0, 0)
            WorkRot:set(-Math.Atan2(WorkVec1:gety(), Math.Sqrt(WorkVec1:getx() * WorkVec1:getx() + WorkVec1:getz() * WorkVec1:getz())), Math.Atan2(WorkVec1:getx(), WorkVec1:getz()), 0)
            WorkRot2:set(-Math.Atan2(WorkVec1:gety(), Math.Sqrt(WorkVec1:getx() * WorkVec1:getx() + WorkVec1:getz() * WorkVec1:getz())), Math.Atan2(WorkVec1:getx(), WorkVec1:getz()), 0)
            Effect.UpdateCoord(_ARG_0_.restraintHandle, WorkVec2, WorkRot)
            _ARG_0_.workStep = _ARG_0_.workStep + 1 * Entity.GetFrameRate(_ARG_0_.myHandle)
          end
          WorkVec1:set(0, 0, _ARG_0_.DeatEffectSize)
          Math.RotateVectorXYZ(WorkVec1, WorkRot)
          FVECTOR3.Add(WorkVec1, WorkVec1, WorkVec)
          WorkVec3:set(0, 0, 0)
          Math.RotateVectorXYZ(WorkVec3, WorkRot)
          FVECTOR3.Add(WorkVec3, WorkVec3, WorkVec1)
          Collision.IntersectRayBg(WorkVec1, COLL_KIND_ENEMY, WorkVec, WorkVec1)
          FVECTOR3.Sub(WorkVec2, WorkVec1, WorkVec)
          WorkVec3:set(1, 1, WorkVec2:length() / 15)
          Effect.SetScale(_ARG_0_.restraintHandle, WorkVec3)
          if Effect.GetNowFrame(_ARG_0_.restraintHandle) >= 12 and 30 >= Effect.GetNowFrame(_ARG_0_.restraintHandle) then
            _ARG_0_.DeatEffectSize = _ARG_0_.DeatEffectSize + 3
            _ARG_0_.stringScale = _ARG_0_.DeatEffectSize
          end
          if WorkVec2:length() < _ARG_0_.stringScale then
            _ARG_0_.stringScale = WorkVec2:length()
          end
          WorkVec2:normalize()
          WorkVec2:scale(_ARG_0_.stringScale)
          FVECTOR3.Add(WorkVec1, WorkVec2, WorkVec)
          Enemy.SetGeneralPurposeAttackCollPos(_ARG_0_.myHandle, WorkVec, WorkVec1)
          Enemy.EnableGeneralPurposeAttackColl(_ARG_0_.myHandle, 1)
          if _ARG_0_.HitFlag == 1 then
            _ARG_0_.HitFlag = 2
          elseif _ARG_0_.HitFlag == 2 then
            if Player.IsMuteki(_ARG_0_.targetHandle) == false and Player.IsTrgFlagGuard(_ARG_0_.targetHandle) == false then
              _ARG_0_.step = 2
              _ARG_0_.HitFlag = 3
              _ARG_0_.workStep = 0
              _ARG_0_:setNumberEffect(_ARG_0_.Restraint_Death_Hit_Cnt)
              _ARG_0_.Death_Cnt = _ARG_0_.Restraint_Death_Hit_Cnt
              _ARG_0_.Restraint_Death_Hit_Cnt = _ARG_0_.Restraint_Death_Hit_Cnt - 1
              if 0 > _ARG_0_.Restraint_Death_Hit_Cnt then
                _ARG_0_.Restraint_Death_Hit_Cnt = 0
                _ARG_0_.step = 3
              end
              _ARG_0_:setCaptureEffect()
              Enemy.EnableGeneralPurposeAttackColl(_ARG_0_.myHandle, 0)
              _ARG_0_:setMotion(_UPVALUE2_)
              Entity.GetWorldPos(WorkVec, _ARG_0_.myHandle, _UPVALUE0_)
              Entity.GetWorldPos(WorkVec1, _ARG_0_.targetHandle, 2)
              FVECTOR3.Sub(WorkVec1, WorkVec1, WorkVec)
              WorkVec1:normalize()
              WorkVec:set(0, 0, 0)
              WorkRot:set(-Math.Atan2(WorkVec1:gety(), Math.Sqrt(WorkVec1:getx() * WorkVec1:getx() + WorkVec1:getz() * WorkVec1:getz())), Math.Atan2(WorkVec1:getx(), WorkVec1:getz()), 0)
              WorkRot2:set(-Math.Atan2(WorkVec1:gety(), Math.Sqrt(WorkVec1:getx() * WorkVec1:getx() + WorkVec1:getz() * WorkVec1:getz())), Math.Atan2(WorkVec1:getx(), WorkVec1:getz()), 0)
              _ARG_0_.restraintHandle = Entity.AttachEffect(_ARG_0_.myHandle, "b01ex00", "B035_DTH_BIN0_0", _UPVALUE1_, WorkVec, WorkRot)
              Effect.SetAttachNoRot(_ARG_0_.restraintHandle, true)
              WorkVec:set(0, 0, 0)
              WorkRot:set(0, 0, 0)
              _ARG_0_.handDeattHandle = Entity.AttachEffect(_ARG_0_.myHandle, "b01ex00", "B035_DTH_BIN1_0", _UPVALUE1_, WorkVec, WorkRot)
              Entity.GetWorldPos(WorkVec, _ARG_0_.targetHandle)
              WorkVec:sety(WorkVec:gety() - Entity.GetFloorDistance(_ARG_0_.targetHandle))
              Entity.SetLocalPos(_ARG_0_.targetHandle, WorkVec)
            else
              Enemy.EnableGeneralPurposeAttackColl(_ARG_0_.myHandle, 0)
              Effect.LoopEnd(_ARG_0_.DeatCaptureEffect)
              _ARG_0_.step = 5
              _ARG_0_:setMotion(_UPVALUE3_)
            end
          end
          if _ARG_0_.HitFlag == 0 then
            if _ARG_0_.reflectFlag == 1 then
              Enemy.EnableGeneralPurposeAttackColl(_ARG_0_.myHandle, 0)
              Effect.LoopEnd(_ARG_0_.DeatCaptureEffect)
              _ARG_0_.step = 5
              _ARG_0_:setMotion(_UPVALUE3_)
            end
            if Entity.IsMotionEnd(_ARG_0_.myHandle) then
              Effect.LoopEnd(_ARG_0_.DeatCaptureEffect)
              _ARG_0_.step = 5
              _ARG_0_:setMotion(_UPVALUE4_)
              Enemy.EnableGeneralPurposeAttackColl(_ARG_0_.myHandle, 0)
            end
          end
        end
      elseif _ARG_0_.step == 2 then
        _ARG_0_.loopEndTaimer = _ARG_0_.loopEndTaimer - 1 * Entity.GetFrameRate(_ARG_0_.myHandle)
        if _ARG_0_.workStep == 0 then
          _ARG_0_.workStep = 1
          _ARG_0_.camera = Camera.CreateExusiaCamera("kodeath")
          Camera.SetExusiaBaseCoord(_ARG_0_.camera, _ARG_0_.targetHandle, 0)
          Camera.StartExusiaCamera(_ARG_0_.camera)
        end
        if Player.IsDamageFlagCapture(_ARG_0_.targetHandle) == false then
          _ARG_0_.step = 5
          Entity.SetTimer(_ARG_0_.myHandle, 120)
          _ARG_0_:setCaptureEndEffect()
          _ARG_0_:setMotion(_UPVALUE3_)
          Script.OutTask(_ARG_0_.camera)
          return
        end
        if 0 > _ARG_0_.loopEndTaimer then
          _ARG_0_.step = 2
          _ARG_0_.Death_Cnt = _ARG_0_.Death_Cnt - 1
          _ARG_0_:LoopEndEffect()
          _ARG_0_:setNumberEffect(_ARG_0_.Death_Cnt)
          if 0 >= _ARG_0_.Death_Cnt then
            _ARG_0_:setMotion(_UPVALUE3_)
            _ARG_0_.step = 3
            Script.OutTask(_ARG_0_.camera)
          end
        end
      elseif _ARG_0_.step == 3 then
        _ARG_0_:setCaptureEndEffect()
        Player.SetDeath(_ARG_0_.targetHandle)
        _ARG_0_.step = 4
      elseif _ARG_0_.step == 4 then
        _ARG_0_.step = 6
      elseif _ARG_0_.step == 5 then
        if Entity.IsMotionEnd(_ARG_0_.myHandle) then
          _ARG_0_:GotoState(_ARG_0_.stack:pop(1))
        end
      elseif _ARG_0_.step == 6 then
        _ARG_0_:GotoState(_ARG_0_.stack:pop(1))
      end
    end
  },
  Photoncharge = {
    OnBeginState = function(_ARG_0_)
      print("b01ex00:Photoncharge\n")
      WorkVec:set(0, 0, 0)
      if Effect.IsAlive(_ARG_0_.PhotonEffect) == false then
      end
      if Effect.IsAlive(_ARG_0_.PhotonEffect2) == false then
      end
      _ARG_0_.step = -2
      _ARG_0_.Speed = 0
      Entity.GetWorldPos(_ARG_0_.targetPos, _ARG_0_.targetHandle, 0)
      _ARG_0_:setMotion(_UPVALUE0_)
      Enemy.EnableNoDamageReaction(_ARG_0_.myHandle, 1)
      Enemy.GetAttackReflect(_ARG_0_.myHandle, 0)
      _ARG_0_.reflectRetrun = 1
      _ARG_0_:setLaserBlade()
      _ARG_0_.HitFlag = 0
      Entity.SetRot(_ARG_0_.myHandle, 0, Entity.CalcDirection(_ARG_0_.myHandle, _ARG_0_.targetHandle), 0)
      _ARG_0_:setMotion(_UPVALUE1_)
      Entity.SetTimer(_ARG_0_.myHandle, 5)
    end,
    OnEndState = function(_ARG_0_)
      Effect.LoopEnd(_ARG_0_.PhotonEffect)
      Enemy.EnableNoDamageReaction(_ARG_0_.myHandle, 0)
      _ARG_0_.reflectRetrun = 0
      Entity.GetRot(WorkRot, _ARG_0_.myHandle)
      WorkRot:setx(0)
      _ARG_0_.HitFlag = 0
      Entity.SetRot(_ARG_0_.myHandle, WorkRot)
    end,
    OnUpdate = function(_ARG_0_)
      _ARG_0_.PhotonTimer = _ARG_0_.PhotonTimer - 1 * Entity.GetFrameRate(_ARG_0_.myHandle)
      if _ARG_0_.step == -2 then
        if Entity.TurnTargetYDegree(_ARG_0_.myHandle, _ARG_0_.targetHandle, 10) == false then
          _ARG_0_.velocity:set(0, 0.15, -0.1)
          Entity.CalcVelocity(_ARG_0_.myHandle, _ARG_0_.velocity)
          _ARG_0_.step = -1
        end
      elseif _ARG_0_.step == -1 then
        Entity.GetVelocity(WorkVec, _ARG_0_.myHandle)
        if 0 >= WorkVec:gety() then
          Entity.ClearSpeed(_ARG_0_.myHandle)
          _ARG_0_:setMotion(_UPVALUE0_)
          _ARG_0_.step = 0
          _ARG_0_.warkStep = 0
          _ARG_0_.PhotonTimer = ATTACK_PARAM[_UPVALUE1_].Timer
        end
      elseif _ARG_0_.step == 0 then
        _ARG_0_:MoveAir(0.8, 0.1)
        if Entity.CalcDistanceSq(_ARG_0_.myHandle, _ARG_0_.targetHandle) > 64 then
        end
        Entity.TurnTargetDegree(_ARG_0_.myHandle, _ARG_0_.targetHandle, 0.5)
        if Entity.IsTimeOver(_ARG_0_.myHandle) then
          _ARG_0_.step = 1
          Entity.SetTimer(_ARG_0_.myHandle, 5)
          Entity.ClearSpeed(_ARG_0_.myHandle)
        end
      elseif _ARG_0_.step == 1 then
        Entity.GetWorldPos(_ARG_0_.targetPos, _ARG_0_.targetHandle, 0)
        Entity.GetWorldPos(WorkVec, _ARG_0_.myHandle)
        Entity.GetWorldPos(WorkVec1, _ARG_0_.targetHandle)
        FVECTOR3.Sub(WorkVec1, WorkVec1, WorkVec)
        WorkVec1:normalize()
        WorkVec:set(0, 0, 0)
        WorkRot:set(-Math.Atan2(WorkVec1:gety(), Math.Sqrt(WorkVec1:getx() * WorkVec1:getx() + WorkVec1:getz() * WorkVec1:getz())), Math.Atan2(WorkVec1:getx(), WorkVec1:getz()), 0)
        Entity.SetRot(_ARG_0_.myHandle, -Math.Atan2(WorkVec1:gety(), Math.Sqrt(WorkVec1:getx() * WorkVec1:getx() + WorkVec1:getz() * WorkVec1:getz())), Math.Atan2(WorkVec1:getx(), WorkVec1:getz()), 0)
        _ARG_0_:MoveAirDown(0.7, 0.1)
        _ARG_0_.step = 0
        if _ARG_0_.HitFlag == 1 then
          Entity.SetTimer(_ARG_0_.myHandle, 15)
        else
          Entity.SetTimer(_ARG_0_.myHandle, 30 + Script.Random() * 10)
        end
        if _ARG_0_.PhotonTimer < 0 then
          Effect.LoopEnd(_ARG_0_.PhotonEffect)
          _ARG_0_.step = 2
          Effect.LoopEnd(_ARG_0_.PhotonEffect)
          Entity.GetRot(WorkRot, _ARG_0_.myHandle)
          WorkRot:setx(0)
          Entity.SetRot(_ARG_0_.myHandle, WorkRot)
          _ARG_0_:setMotion(_UPVALUE2_)
          Entity.ClearSpeed(_ARG_0_.myHandle)
        end
      elseif _ARG_0_.step == 2 then
        Entity.TurnTargetDegree(_ARG_0_.myHandle, _ARG_0_.targetHandle, 50)
        if Entity.IsMotionEnd(_ARG_0_.myHandle) then
          _ARG_0_.step = 3
          _ARG_0_.stack:push("FallToLanding")
          _ARG_0_:GotoState(_ARG_0_.stack:pop(1))
        end
      elseif _ARG_0_.step == 3 then
      end
    end
  },
  Banishu = {
    OnBeginState = function(_ARG_0_)
      print("b01ex00:Banishu\n")
      _ARG_0_:setMotionEx(_UPVALUE0_, ATTACK_PARAM[_UPVALUE1_].Group)
      _ARG_0_.step = 0
      _ARG_0_:deleteLaserBlade()
      Enemy.EnableNoDamageReaction(_ARG_0_.myHandle, 1)
    end,
    OnEndState = function(_ARG_0_)
      Enemy.EnableNoDamageReaction(_ARG_0_.myHandle, 0)
    end,
    OnUpdate = function(_ARG_0_)
      if _ARG_0_.step == 0 and Entity.GetMotionNowFrame(_ARG_0_.myHandle) > 30 then
        _ARG_0_:EnablePredator(true)
        _ARG_0_:GotoState(_ARG_0_.stack:pop(1))
      end
    end
  },
  MegaFlare = {
    OnBeginState = function(_ARG_0_)
      print("b01ex00:MegaFlare\n")
      _ARG_0_:setMotionEx(_UPVALUE0_, ATTACK_PARAM[_UPVALUE1_].Group)
      _ARG_0_.step = 0
      _ARG_0_:deleteLaserBlade()
      Enemy.EnableNoDamageReaction(_ARG_0_.myHandle, 1)
      Entity.TurnTargetYDegree(_ARG_0_.myHandle, _ARG_0_.targetHandle, 180)
    end,
    OnEndState = function(_ARG_0_)
      Enemy.EnableNoDamageReaction(_ARG_0_.myHandle, 0)
    end,
    OnUpdate = function(_ARG_0_)
      if _ARG_0_.step == 0 then
        if Entity.GetMotionNowFrame(_ARG_0_.myHandle) > 1 then
          _ARG_0_:CreateMegaFlare(_ARG_0_.myHandle)
          _ARG_0_.step = 1
        end
      elseif _ARG_0_.step == 1 then
        if Entity.GetMotionNowFrame(_ARG_0_.myHandle) > 30 then
          if Entity.IsAlive(_ARG_0_.megaHandle) then
            EntityManager:GetEntity(_ARG_0_.megaHandle).step = 1
          end
          _ARG_0_.step = 2
        end
      elseif _ARG_0_.step == 2 then
        if Entity.IsMotionEnd(_ARG_0_.myHandle) then
          _ARG_0_:GotoState(_ARG_0_.stack:pop(1))
        end
      elseif _ARG_0_.step == 3 then
      end
    end
  },
  RaisingStorm = {
    OnBeginState = function(_ARG_0_)
      print("b01ex00:RaisingStorm\n")
      _ARG_0_.step = 0
      _ARG_0_.Speed = 0
      _ARG_0_:setMotionEx(_UPVALUE0_, ATTACK_PARAM[_UPVALUE1_].Group)
      if Entity.IsAlive(_ARG_0_.RaisingHandle) == false then
        _ARG_0_:CreateRaisingStorm(_ARG_0_.myHandle)
      end
      _ARG_0_:deleteLaserBlade()
    end,
    OnEndState = function(_ARG_0_)
      Entity.ClearSpeed(_ARG_0_.myHandle)
    end,
    OnUpdate = function(_ARG_0_)
      if _ARG_0_.step == 0 then
        if Entity.IsMotionEnd(_ARG_0_.myHandle) then
          _ARG_0_:GotoState(_ARG_0_.stack:pop(1))
        end
      elseif _ARG_0_.step == 1 then
      elseif _ARG_0_.step == 2 then
      elseif _ARG_0_.step ~= 3 or Entity.IsTimeOver(_ARG_0_.myHandle) then
      end
    end
  },
  Meteor = {
    OnBeginState = function(_ARG_0_)
      print("b01ex00:Meteor\n")
      _ARG_0_.step = 0
      _ARG_0_:setMotionEx(_UPVALUE0_, ATTACK_PARAM[_UPVALUE1_].Group)
      _ARG_0_.step = 0
      _ARG_0_:deleteLaserBlade()
    end,
    OnEndState = function(_ARG_0_)
      Entity.ClearSpeed(_ARG_0_.myHandle)
    end,
    OnUpdate = function(_ARG_0_)
      if _ARG_0_.step == 0 then
        if Entity.GetMotionNowFrame(_ARG_0_.myHandle) > 30 then
          _ARG_0_:CreateMeteor(_ARG_0_.myHandle)
          _ARG_0_.step = 1
        end
      elseif _ARG_0_.step == 1 and Entity.IsMotionEnd(_ARG_0_.myHandle) then
        _ARG_0_:GotoState(_ARG_0_.stack:pop(1))
      end
    end
  },
  Tornado = {
    OnBeginState = function(_ARG_0_)
      print("b01ex00:Tornado\n")
      _ARG_0_:setMotionEx(_UPVALUE0_, ATTACK_PARAM[_UPVALUE1_].Group)
      _ARG_0_.step = 0
      _ARG_0_.Timer = 0
      Entity.GetWorldPos(WorkVec, _ARG_0_.myHandle, 2)
      Entity.GetRot(WorkVec1, _ARG_0_.myHandle)
      Entity.SetEffect(_ARG_0_.myHandle, "m_hi_tor_00", "M_HI_TOR_CAL1_0", WorkVec, WorkVec1)
      _ARG_0_:deleteLaserBlade()
      Enemy.EnableNoDamageReaction(_ARG_0_.myHandle, 1)
    end,
    OnEndState = function(_ARG_0_)
      Enemy.EnableNoDamageReaction(_ARG_0_.myHandle, 0)
    end,
    OnUpdate = function(_ARG_0_)
      if _ARG_0_.step == 0 then
        if Entity.GetMotionNowFrame(_ARG_0_.myHandle) > 20 then
          _ARG_0_:CreateTornado(_ARG_0_.myHandle, 0)
          _ARG_0_.step = 1
          Enemy.EnableNoDamageReaction(_ARG_0_.myHandle, 0)
        end
      elseif _ARG_0_.step == 1 and Entity.IsMotionEnd(_ARG_0_.myHandle) then
        _ARG_0_:GotoState(_ARG_0_.stack:pop(1))
      end
    end
  },
  Standby = {
    OnBeginState = function(_ARG_0_)
      Entity.SetMotion(_ARG_0_.myHandle, _UPVALUE0_)
      _ARG_0_:setLaserBlade()
    end,
    OnEndState = function(_ARG_0_)
      Entity.EnableLockon(_ARG_0_.myHandle, 1)
    end,
    OnUpdate = function(_ARG_0_)
      if Enemy.IsAllEnemyWaiting() == false then
        _ARG_0_:GotoState("BattleIdling")
        Entity.EnableLockon(_ARG_0_.myHandle, 1)
      end
    end
  },
  Dead = {
    OnBeginState = function(_ARG_0_)
      Entity.EnableLockon(_ARG_0_.myHandle, 0)
    end,
    OnEndState = function(_ARG_0_)
    end,
    OnUpdate = function(_ARG_0_)
    end
  },
  DeadCopy = {
    OnBeginState = function(_ARG_0_)
      print("b01ex00:DeadCopy\n")
      Entity.SetupModelFade(_ARG_0_.myHandle, 1, 0, 30)
      Entity.GetWorldPos(WorkVec, _ARG_0_.myHandle, 2)
      WorkRot:set(0, 0, 0)
      Entity.SetEffect(_ARG_0_.myHandle, "b01ex00", "B035_BUN_LOS0_0", WorkVec, WorkRot)
      _ARG_0_:deleteLaserBlade()
      if Entity.IsTargetFront(_ARG_0_.myHandle, _ARG_0_.targetHandle) then
        _ARG_0_:setMotion(_UPVALUE0_)
      else
        _ARG_0_:setMotion(_UPVALUE1_)
      end
      Entity.EnableBodyColl(_ARG_0_.myHandle, 0)
      Entity.EnableDamageColl(_ARG_0_.myHandle, 0)
      Entity.EnableLockon(_ARG_0_.myHandle, 0)
      COPYMAN[_ARG_0_.myCopyID].deadFlag = 1
    end,
    OnEndState = function(_ARG_0_)
    end,
    OnUpdate = function(_ARG_0_)
      if Entity.IsModelFade(_ARG_0_.myHandle) == false then
        COPYMAN[_ARG_0_.myCopyID].handle = NULL_HANDLE
        Entity.Out(_ARG_0_.myHandle)
      end
    end
  },
  IdlingLoop = {
    OnBeginState = function(_ARG_0_)
      Entity.SetMotion(_ARG_0_.myHandle, _UPVALUE0_)
      Entity.SetTimer(_ARG_0_.myHandle, 480)
      Entity.ClearSpeed(_ARG_0_.myHandle)
    end,
    OnEndState = function(_ARG_0_)
    end,
    OnUpdate = function(_ARG_0_)
      if Entity.IsTimeOver(_ARG_0_.myHandle) == false then
        return
      end
      _ARG_0_:GotoState("Idling")
    end
  },
  Disappear = {
    OnBeginState = function(_ARG_0_)
    end,
    OnEndState = function(_ARG_0_)
    end,
    OnUpdate = function(_ARG_0_)
    end
  }
}
function b01ex00.setState(_ARG_0_, _ARG_1_)
  if _ARG_1_ == "BattleIdling" then
    if Enemy.SearchEnemy(_ARG_0_.myHandle, "b01ex00", SEARCH_TYPE_NEAR) then
      _ARG_0_:GotoState("Idling_Double")
    else
      _ARG_0_:GotoState("BattleIdling")
    end
  else
    _ARG_0_:GotoState(_ARG_1_)
  end
end
function b01ex00.initLaserBit(_ARG_0_)
  for _FORV_4_ = 0, 4 do
    LASERBITMASTART[_FORV_4_].itAttack = 0
    for _FORV_8_ = 0, 3 do
      LASERBITMASTART[_FORV_4_][_FORV_8_].isAttack = 0
      LASERBITMASTART[_FORV_4_][_FORV_8_].handle = NULL_HANDLE
    end
  end
  _FOR_[0].itAttack = 1
  LASERBITMASTART[0][0].isAttack = 1
end
function b01ex00.initCopyMan(_ARG_0_)
  for _FORV_4_ = 0, 4 do
    COPYMAN[_FORV_4_].handle = NULL_HANDLE
    COPYMAN[_FORV_4_].Index = 0
    COPYMAN[_FORV_4_].deadFlag = 0
  end
end
function b01ex00.CheckDeadFlag(_ARG_0_, _ARG_1_)
  for _FORV_6_ = 0, 4 do
  end
  if 0 + 1 >= 2 then
    return true
  end
  if _ARG_1_ == 1 then
  else
    COPYMAN.isDouble = false
  end
  return false
end
function b01ex00.CheckAttack(_ARG_0_)
  for _FORV_5_ = 0, 4 do
  end
  if _FOR_ < 3 then
    return true
  elseif _ARG_0_.myCopyID == 3 then
    if COPYMAN[0].deadFlag == 1 or COPYMAN[1].deadFlag == 1 or COPYMAN[2].deadFlag == 1 then
      return true
    end
  elseif _ARG_0_.myCopyID == 4 then
    if COPYMAN[3].deadFlag == 1 then
      if COPYMAN[0].deadFlag == 1 or COPYMAN[1].deadFlag == 1 or COPYMAN[2].deadFlag == 1 then
        return true
      end
    elseif 0 + 1 >= 2 then
      return true
    end
  end
  return false
end
function b01ex00.setMotion(_ARG_0_, _ARG_1_, _ARG_2_)
  if _ARG_2_ == 1 then
    Entity.SetMotionWithSameCheck(_ARG_0_.myHandle, _ARG_1_)
  else
    Entity.SetMotion(_ARG_0_.myHandle, _ARG_1_)
  end
end
function b01ex00.setMotionEx(_ARG_0_, _ARG_1_, _ARG_2_)
  Entity.SetMotion(_ARG_0_.myHandle, _ARG_1_, _ARG_2_)
end
function b01ex00.MoveEx(_ARG_0_, _ARG_1_, _ARG_2_)
  _ARG_0_.Speed = _ARG_0_.Speed + _ARG_1_ * _ARG_2_ * Entity.GetFrameRate(_ARG_0_.myHandle)
  if _ARG_1_ < _ARG_0_.Speed then
    _ARG_0_.Speed = _ARG_1_
  end
  FVECTOR3.set(WorkVec, 0, 0, _ARG_0_.Speed)
  Entity.CalcVelocityXZ(_ARG_0_.myHandle, WorkVec)
end
function b01ex00.MoveAir(_ARG_0_, _ARG_1_, _ARG_2_)
  _ARG_0_.Speed = _ARG_0_.Speed + _ARG_1_ * _ARG_2_ * Entity.GetFrameRate(_ARG_0_.myHandle)
  if _ARG_1_ < _ARG_0_.Speed then
    _ARG_0_.Speed = _ARG_1_
  end
  FVECTOR3.set(WorkVec, 0, 0, _ARG_0_.Speed)
  Entity.CalcVelocity(_ARG_0_.myHandle, WorkVec)
end
function b01ex00.MoveAirDown(_ARG_0_, _ARG_1_, _ARG_2_)
  _ARG_0_.Speed = _ARG_0_.Speed - _ARG_1_ * _ARG_2_ * Entity.GetFrameRate(_ARG_0_.myHandle)
  if _ARG_0_.Speed < 0 then
    _ARG_0_.Speed = 0
  end
  Entity.GetVelocity(WorkVec, _ARG_0_.myHandle)
  WorkVec:setz(_ARG_0_.Speed)
  Entity.CalcVelocity(_ARG_0_.myHandle, WorkVec)
end
function b01ex00.EnablePredator(_ARG_0_, _ARG_1_)
  _ARG_0_.predator = _ARG_1_
  _ARG_0_.BanishuFlag = _ARG_1_
  Entity.SetAlpha(_ARG_0_.myHandle, 1)
  if _ARG_1_ then
    Entity.EnableModelInvisible(_ARG_0_.myHandle, 1)
    Entity.SetDropShadowDensity(_ARG_0_.myHandle, 0.25)
    Entity.EnableLockonAndShooton(_ARG_0_.myHandle, 0)
  else
    Entity.EnableModelInvisible(_ARG_0_.myHandle, 0)
    Entity.SetDropShadowDensity(_ARG_0_.myHandle, -1)
    Entity.EnableLockonAndShooton(_ARG_0_.myHandle, 1)
  end
  _ARG_0_.BanishuTimer = _UPVALUE0_.Banishu_time
end
function b01ex00.EnableTransparency(_ARG_0_, _ARG_1_)
  _ARG_0_.predator = false
  _ARG_0_.BanishuFlag = false
  if _ARG_1_ then
    Entity.SetAlpha(_ARG_0_.myHandle, 0)
    Entity.EnableLockonAndShooton(_ARG_0_.myHandle, 0)
  else
    Entity.SetAlpha(_ARG_0_.myHandle, 1)
    Entity.EnableLockonAndShooton(_ARG_0_.myHandle, 1)
  end
end
function b01ex00.WhipLoopEnd(_ARG_0_)
  Effect.LoopEnd(Bullet.GetEffectHandle(_ARG_0_.WhipHandle))
end
function b01ex00.Defense(_ARG_0_)
  if _ARG_0_.evadeTimer > 0 then
    return
  end
  if _ARG_0_.evadeFlag == false then
    if Entity.IsAttacking(_ARG_0_.targetHandle) then
      _ARG_0_.evadeFlag = true
      _ARG_0_.evadeTimer = -1
    end
  else
    _ARG_0_.stack:push("BattleIdling")
    if Entity.CalcDistanceSq(_ARG_0_.myHandle, _ARG_0_.targetHandle) < 81 then
      _ARG_0_:createStateList()
      _ARG_0_.stack:push("OutMoveWorp")
      _ARG_0_:GotoState(_ARG_0_.stack:pop(1))
    else
    end
    _ARG_0_.evadeTimer = 60 * (1 + Script.Random() * 2)
    _ARG_0_.evadeFlag = false
    return true
  end
  return false
end
function b01ex00.CreateBullet(_ARG_0_, _ARG_1_)
  Entity.GetWorldPos(WorkVec, _ARG_0_.targetHandle, 2)
  Entity.GetWorldPos(WorkVec1, _ARG_1_, 2)
  Entity.GetRot(WorkRot, _ARG_1_)
  FVECTOR3.Sub(WorkVec2, WorkVec, WorkVec1)
  FVECTOR3.normalize(WorkVec2)
  WorkRot:setx(-Math.Atan2(WorkVec2:gety(), Math.Sqrt(WorkVec2:getz() * WorkVec2:getz() + WorkVec2:getx() * WorkVec2:getx())))
  WorkRot:sety((Math.Atan2(WorkVec2:getx(), WorkVec2:getz())))
  Bullet.CreateEffectBullet(Bullet.CreateBullet("", WorkVec1, WorkRot), "m_hi_mef_00", "M_HI_MEF_BLT0_0")
  if Enemy.IsConfuse(_ARG_0_.myHandle) then
    Bullet.SetCollision(Bullet.CreateBullet("", WorkVec1, WorkRot), COLL_KIND_NO_CHECK, COLL_SHAPE_SPHERE, 0.5, 0, _ARG_1_)
  else
    Bullet.SetCollision(Bullet.CreateBullet("", WorkVec1, WorkRot), COLL_KIND_ENEMY, COLL_SHAPE_SPHERE, 0.5, 0, _ARG_1_)
  end
  SetBulletAttackParam(Bullet.CreateBullet("", WorkVec1, WorkRot), _ARG_0_.myHandle, 1)
  Entity.CalcVelocity(Bullet.CreateBullet("", WorkVec1, WorkRot), 0.25)
end
function b01ex00.CreateDeathShoot(_ARG_0_, _ARG_1_)
  Entity.GetWorldPos(WorkVec, _ARG_0_.targetHandle, 2)
  Entity.GetWorldPos(WorkVec1, _ARG_1_, 2)
  Entity.GetRot(WorkRot, _ARG_1_)
  FVECTOR3.Sub(WorkVec2, WorkVec, WorkVec1)
  FVECTOR3.normalize(WorkVec2)
  WorkRot:setx(-Math.Atan2(WorkVec2:gety(), Math.Sqrt(WorkVec2:getz() * WorkVec2:getz() + WorkVec2:getx() * WorkVec2:getx())))
  WorkRot:sety((Math.Atan2(WorkVec2:getx(), WorkVec2:getz())))
  Bullet.CreateEffectBullet(Bullet.CreateBullet("", WorkVec1, WorkRot), "m_hi_mef_00", "M_HI_MEF_BLT0_0")
  if Enemy.IsConfuse(_ARG_0_.myHandle) then
    Bullet.SetCollision(Bullet.CreateBullet("", WorkVec1, WorkRot), COLL_KIND_NO_CHECK, COLL_SHAPE_SPHERE, 0.5, 0, _ARG_1_)
  else
    Bullet.SetCollision(Bullet.CreateBullet("", WorkVec1, WorkRot), COLL_KIND_ENEMY, COLL_SHAPE_SPHERE, 0.5, 0, _ARG_1_)
  end
  SetBulletAttackParam(Bullet.CreateBullet("", WorkVec1, WorkRot), _ARG_0_.myHandle, 6)
  Bullet.SetHitAttackEffectName(Bullet.CreateBullet("", WorkVec1, WorkRot), "m_hi_mef_00", "M_HI_MEF_HIT0_0")
  Entity.CalcVelocity(Bullet.CreateBullet("", WorkVec1, WorkRot), 0.25)
end
function b01ex00.CreateRandomBit(_ARG_0_, _ARG_1_, _ARG_2_, _ARG_3_)
  Entity.GetWorldPos(WorkVec, _ARG_0_.targetHandle, 2)
  Entity.GetWorldPos(WorkVec1, _ARG_1_, _UPVALUE0_)
  Entity.GetRot(WorkRot, _ARG_1_)
  FVECTOR3.Sub(WorkVec2, WorkVec, WorkVec1)
  FVECTOR3.normalize(WorkVec2)
  WorkRot:setx(-Math.Atan2(WorkVec2:gety(), Math.Sqrt(WorkVec2:getz() * WorkVec2:getz() + WorkVec2:getx() * WorkVec2:getx())))
  WorkRot:sety((Math.Atan2(WorkVec2:getx(), WorkVec2:getz())))
  Bullet.CreateEffectBullet(Bullet.CreateBullet("RandomBit", WorkVec1, WorkRot), "b01ex00", "B035_LSR_BIT0_0")
  if Enemy.IsConfuse(_ARG_0_.myHandle) then
    Bullet.SetCollision(Bullet.CreateBullet("RandomBit", WorkVec1, WorkRot), COLL_KIND_NO_CHECK, COLL_SHAPE_SPHERE, 0.1, 0, _ARG_1_)
  else
    Bullet.SetCollision(Bullet.CreateBullet("RandomBit", WorkVec1, WorkRot), COLL_KIND_ENEMY, COLL_SHAPE_SPHERE, 0.1, 0, _ARG_1_)
  end
  SetBulletAttackParam(Bullet.CreateBullet("RandomBit", WorkVec1, WorkRot), _ARG_0_.myHandle, 5)
  Bullet.SetMaxMoveDist(Bullet.CreateBullet("RandomBit", WorkVec1, WorkRot), 14400)
  Bullet.SetHitAttackEffectName(Bullet.CreateBullet("RandomBit", WorkVec1, WorkRot), "b01ex00", "B035_LSR_HIT0_0")
  EntityManager:GetEntity((Bullet.CreateBullet("RandomBit", WorkVec1, WorkRot))).owner = _ARG_0_.myHandle
  EntityManager:GetEntity((Bullet.CreateBullet("RandomBit", WorkVec1, WorkRot))).targetHandle = _ARG_0_.targetHandle
  EntityManager:GetEntity((Bullet.CreateBullet("RandomBit", WorkVec1, WorkRot))).Id = _ARG_2_
  EntityManager:GetEntity((Bullet.CreateBullet("RandomBit", WorkVec1, WorkRot))).Group = _ARG_3_
  LASERBITMASTART[_ARG_3_][_ARG_2_].handle = Bullet.CreateBullet("RandomBit", WorkVec1, WorkRot)
end
function b01ex00.CreateRandomBitCounter(_ARG_0_, _ARG_1_)
  Entity.GetWorldPos(WorkVec, _ARG_0_.targetHandle, 2)
  Entity.GetWorldPos(WorkVec1, _ARG_1_, _UPVALUE0_)
  Entity.GetRot(WorkRot, _ARG_1_)
  FVECTOR3.Sub(WorkVec2, WorkVec, WorkVec1)
  FVECTOR3.normalize(WorkVec2)
  WorkRot:setx(-Math.Atan2(WorkVec2:gety(), Math.Sqrt(WorkVec2:getz() * WorkVec2:getz() + WorkVec2:getx() * WorkVec2:getx())))
  WorkRot:sety((Math.Atan2(WorkVec2:getx(), WorkVec2:getz())))
  Bullet.CreateEffectBullet(Bullet.CreateBullet("RandomBit2", WorkVec1, WorkRot), "b01ex00", "B035_LSR_BIT0_0")
  if Enemy.IsConfuse(_ARG_0_.myHandle) then
    Bullet.SetCollision(Bullet.CreateBullet("RandomBit2", WorkVec1, WorkRot), COLL_KIND_NO_CHECK, COLL_SHAPE_SPHERE, 0.1, 0, _ARG_1_)
  else
    Bullet.SetCollision(Bullet.CreateBullet("RandomBit2", WorkVec1, WorkRot), COLL_KIND_ENEMY, COLL_SHAPE_SPHERE, 0.1, 0, _ARG_1_)
  end
  SetBulletAttackParam(Bullet.CreateBullet("RandomBit2", WorkVec1, WorkRot), _ARG_0_.myHandle, 5)
  Bullet.SetMaxMoveDist(Bullet.CreateBullet("RandomBit2", WorkVec1, WorkRot), 14400)
  Bullet.SetHitAttackEffectName(Bullet.CreateBullet("RandomBit2", WorkVec1, WorkRot), "b01ex00", "B035_LSR_HIT0_0")
  EntityManager:GetEntity((Bullet.CreateBullet("RandomBit2", WorkVec1, WorkRot))).owner = _ARG_0_.myHandle
  EntityManager:GetEntity((Bullet.CreateBullet("RandomBit2", WorkVec1, WorkRot))).targetHandle = _ARG_0_.targetHandle
end
function b01ex00.CrossBullet(_ARG_0_, _ARG_1_)
  Entity.GetRot(WorkRot, _ARG_1_)
  WorkVec1:set(0, 0, 0)
  Entity.GetWorldPos2(WorkVec1, _ARG_0_.myHandle, WorkVec1, 1)
  WorkVec:set(0, WorkVec1:gety(), 0)
  Entity.GetWorldPos2(WorkVec, _ARG_0_.targetHandle, WorkVec)
  if Entity.CalcDistanceSq(_ARG_0_.myHandle, _ARG_0_.targetHandle) < 9 then
    WorkVec1:set(0, 0, 2)
    WorkRot:set(0, 0, 0)
  else
    WorkVec1:set(0, 0, 2)
    Entity.GetWorldPos2(WorkVec1, _ARG_0_.myHandle, WorkVec1, 1)
    FVECTOR3.Sub(WorkVec2, WorkVec, WorkVec1)
    FVECTOR3.normalize(WorkVec2)
    WorkRot:setx(-Math.Atan2(WorkVec2:gety(), Math.Sqrt(WorkVec2:getz() * WorkVec2:getz() + WorkVec2:getx() * WorkVec2:getx())))
    WorkRot:sety((Math.Atan2(WorkVec2:getx(), WorkVec2:getz())))
  end
  WorkVec1:set(0, 0, 2)
  Entity.GetWorldPos2(WorkVec1, _ARG_0_.myHandle, WorkVec1, 1)
  Bullet.CreateEffectBullet(Bullet.CreateBullet("CrossB", WorkVec1, WorkRot), "b01ex00", "B035_XJI_BLT0_0")
  if Enemy.IsConfuse(_ARG_0_.myHandle) then
    Bullet.SetCollision(Bullet.CreateBullet("CrossB", WorkVec1, WorkRot), COLL_KIND_NO_CHECK, COLL_SHAPE_SPHERE, 0.8, 0, _ARG_1_)
  else
    Bullet.SetCollision(Bullet.CreateBullet("CrossB", WorkVec1, WorkRot), COLL_KIND_ENEMY, COLL_SHAPE_SPHERE, 0.8, 0, _ARG_1_)
  end
  SetBulletAttackParam(Bullet.CreateBullet("CrossB", WorkVec1, WorkRot), _ARG_0_.myHandle, 14)
  Bullet.SetMaxMoveDist(Bullet.CreateBullet("CrossB", WorkVec1, WorkRot), 14400)
  Bullet.SetHitAttackEffectName(Bullet.CreateBullet("CrossB", WorkVec1, WorkRot), "b01ex00", "B035_XJI_HIT0_0")
  Entity.SetTimer(Bullet.CreateBullet("CrossB", WorkVec1, WorkRot), 180)
  EntityManager:GetEntity((Bullet.CreateBullet("CrossB", WorkVec1, WorkRot))).owner = _ARG_0_.myHandle
  EntityManager:GetEntity((Bullet.CreateBullet("CrossB", WorkVec1, WorkRot))).targetHandle = _ARG_0_.targetHandle
  EntityManager:GetEntity((Bullet.CreateBullet("CrossB", WorkVec1, WorkRot))).Speed = 0.8
  EntityManager:GetEntity((Bullet.CreateBullet("CrossB", WorkVec1, WorkRot))).HomingPow = 9
end
function b01ex00.Whip_Rush_Bullet(_ARG_0_, _ARG_1_)
  Entity.GetWorldPos(WorkVec, _ARG_0_.myHandle, _UPVALUE0_)
  WorkRot:set(0, 0, 0)
  Bullet.CreateEffectBullet(Bullet.CreateBullet("WhipRushb", WorkVec, WorkRot), "b01ex00", "B035_WIP_BEM1_0")
  if Enemy.IsConfuse(_ARG_0_.myHandle) then
    Bullet.SetCollision(Bullet.CreateBullet("WhipRushb", WorkVec, WorkRot), COLL_KIND_NO_CHECK, COLL_SHAPE_SPHERE, 1.5, 0, _ARG_1_)
  else
    Bullet.SetCollision(Bullet.CreateBullet("WhipRushb", WorkVec, WorkRot), COLL_KIND_ENEMY, COLL_SHAPE_SPHERE, 1.5, 0, _ARG_1_)
  end
  SetBulletAttackParam(Bullet.CreateBullet("WhipRushb", WorkVec, WorkRot), _ARG_0_.myHandle, 16)
  Bullet.SetHitAttackEffectName(Bullet.CreateBullet("WhipRushb", WorkVec, WorkRot), "b01ex00", "B035_BLD_HIT0_0")
  Entity.EnableBodyColl(Bullet.CreateBullet("WhipRushb", WorkVec, WorkRot), 0)
  Entity.EnableBgColl(Bullet.CreateBullet("WhipRushb", WorkVec, WorkRot), 0)
  Bullet.SetMaxMoveDist(Bullet.CreateBullet("WhipRushb", WorkVec, WorkRot), 400)
  EntityManager:GetEntity((Bullet.CreateBullet("WhipRushb", WorkVec, WorkRot))).owner = _ARG_0_.myHandle
  _ARG_0_.WhipHandle, EntityManager:GetEntity((Bullet.CreateBullet("WhipRushb", WorkVec, WorkRot))).targetHandle = Bullet.CreateBullet("WhipRushb", WorkVec, WorkRot), _ARG_0_.targetHandle
end
function b01ex00.CreateMeteor(_ARG_0_, _ARG_1_)
  Entity.GetWorldPos(WorkVec1, _ARG_0_.targetHandle)
  WorkVec1:sety(12)
  WorkRot:set(0, 0, 0)
  WorkRot:setx(DegToRad(90))
  Bullet.CreateEffectBullet(Bullet.CreateBullet("Meteorb", WorkVec1, WorkRot), "m_hi_met_00", "M_HI_MET_BLT0_0")
  if Enemy.IsConfuse(_ARG_0_.myHandle) then
    Bullet.SetCollision(Bullet.CreateBullet("Meteorb", WorkVec1, WorkRot), COLL_KIND_NO_CHECK, COLL_SHAPE_SPHERE, 0.5, 0, _ARG_1_)
  else
    Bullet.SetCollision(Bullet.CreateBullet("Meteorb", WorkVec1, WorkRot), COLL_KIND_ENEMY, COLL_SHAPE_SPHERE, 0.5, 0, _ARG_1_)
  end
  SetBulletAttackParam(Bullet.CreateBullet("Meteorb", WorkVec1, WorkRot), _ARG_0_.myHandle, 8)
  Bullet.SetHitAttackEffectName(Bullet.CreateBullet("Meteorb", WorkVec1, WorkRot), "m_hi_met_00", "M_HI_MET_HIT1_0")
  Entity.CalcVelocity(Bullet.CreateBullet("Meteorb", WorkVec1, WorkRot), 0.25)
  Bullet.SetMaxMoveDist(Bullet.CreateBullet("Meteorb", WorkVec1, WorkRot), 14400)
  Entity.SetTimer(Bullet.CreateBullet("Meteorb", WorkVec1, WorkRot), _UPVALUE0_)
  EntityManager:GetEntity((Bullet.CreateBullet("Meteorb", WorkVec1, WorkRot))).owner = _ARG_0_.myHandle
end
function b01ex00.CreateMegaFlare(_ARG_0_, _ARG_1_)
  Entity.GetWorldPos(WorkVec, _ARG_0_.targetHandle, 2)
  WorkVec1:set(0, 0, 2)
  Entity.GetWorldPos2(WorkVec1, _ARG_1_, WorkVec1, 1)
  Entity.GetRot(WorkRot, _ARG_1_)
  FVECTOR3.Sub(WorkVec2, WorkVec, WorkVec1)
  FVECTOR3.normalize(WorkVec2)
  WorkRot:setx(-Math.Atan2(WorkVec2:gety(), Math.Sqrt(WorkVec2:getz() * WorkVec2:getz() + WorkVec2:getx() * WorkVec2:getx())))
  WorkRot:sety((Math.Atan2(WorkVec2:getx(), WorkVec2:getz())))
  Bullet.CreateEffectBullet(Bullet.CreateBullet("MegaFlarb", WorkVec1, WorkRot), "m_hi_mef_00", "M_HI_MEF_BLT0_0")
  if Enemy.IsConfuse(_ARG_0_.myHandle) then
    Bullet.SetCollision(Bullet.CreateBullet("MegaFlarb", WorkVec1, WorkRot), COLL_KIND_NO_CHECK, COLL_SHAPE_SPHERE, 0.5, 0, _ARG_1_)
  else
    Bullet.SetCollision(Bullet.CreateBullet("MegaFlarb", WorkVec1, WorkRot), COLL_KIND_ENEMY, COLL_SHAPE_SPHERE, 0.5, 0, _ARG_1_)
  end
  SetBulletAttackParam(Bullet.CreateBullet("MegaFlarb", WorkVec1, WorkRot), _ARG_0_.myHandle, 2)
  Bullet.SetHitAttackEffectName(Bullet.CreateBullet("MegaFlarb", WorkVec1, WorkRot), "m_hi_mef_00", "M_HI_MEF_HIT0_0")
  Bullet.SetMaxMoveDist(Bullet.CreateBullet("MegaFlarb", WorkVec1, WorkRot), 14400)
  Entity.SetTimer(Bullet.CreateBullet("MegaFlarb", WorkVec1, WorkRot), _UPVALUE0_)
  EntityManager:GetEntity((Bullet.CreateBullet("MegaFlarb", WorkVec1, WorkRot))).owner = _ARG_0_.myHandle
  _ARG_0_.megaHandle, EntityManager:GetEntity((Bullet.CreateBullet("MegaFlarb", WorkVec1, WorkRot))).speed = Bullet.CreateBullet("MegaFlarb", WorkVec1, WorkRot), 0.4
end
function b01ex00.CreateRaisingStorm(_ARG_0_, _ARG_1_)
  WorkVec:set(0, 0, 0)
  WorkRot:set(0, 0, 0)
  Entity.AttachEffect(_ARG_0_.myHandle, "m_hi_ras_00", "M_HI_RAS_CAL0_0", "center", WorkVec, WorkRot)
  WorkVec:set(0, 0, 0)
  WorkRot:set(0, 0, 0)
  Bullet.CreateEffectBullet(Bullet.CreateBullet("Raisingb", WorkVec, WorkRot), "m_hi_ras_00", "M_HI_RAS_TOR0_0")
  if Enemy.IsConfuse(_ARG_0_.myHandle) then
    Bullet.SetCollision(Bullet.CreateBullet("Raisingb", WorkVec, WorkRot), COLL_KIND_NO_CHECK, COLL_SHAPE_CYLINDER, 2, 4, _ARG_1_)
  else
    Bullet.SetCollision(Bullet.CreateBullet("Raisingb", WorkVec, WorkRot), COLL_KIND_ENEMY, COLL_SHAPE_CYLINDER, 2, 4, _ARG_1_)
  end
  SetBulletAttackParam(Bullet.CreateBullet("Raisingb", WorkVec, WorkRot), _ARG_0_.myHandle, 7)
  Bullet.SetHitAttackEffectName(Bullet.CreateBullet("Raisingb", WorkVec, WorkRot), "m_hi_ras_00", "M_HI_RAS_HIT0_0")
  Bullet.EnableAttackCollision(Bullet.CreateBullet("Raisingb", WorkVec, WorkRot), 0)
  Bullet.EnableNoCheckHitBg(Bullet.CreateBullet("Raisingb", WorkVec, WorkRot), 1)
  Entity.EnableBgColl(Bullet.CreateBullet("Raisingb", WorkVec, WorkRot), 0)
  Bullet.SetMaxMoveDist(Bullet.CreateBullet("Raisingb", WorkVec, WorkRot), 14400)
  Entity.SetTimer(Bullet.CreateBullet("Raisingb", WorkVec, WorkRot), ATTACK_PARAM[_UPVALUE0_].Time)
  _ARG_0_.RaisingHandle, EntityManager:GetEntity((Bullet.CreateBullet("Raisingb", WorkVec, WorkRot))).owner = Bullet.CreateBullet("Raisingb", WorkVec, WorkRot), _ARG_0_.myHandle
end
function b01ex00.EndRaising(_ARG_0_)
  Entity.SetTimer(_ARG_0_.RaisingStormHandle, -1)
end
function b01ex00.CreateTornado(_ARG_0_, _ARG_1_, _ARG_2_)
  Entity.GetWorldPos(WorkVec, _ARG_0_.targetHandle, 2)
  Entity.GetWorldPos(WorkVec1, _ARG_1_)
  WorkVec1:sety(WorkVec1:gety() - Entity.GetFloorDistance(_ARG_1_))
  Entity.GetRot(WorkRot, _ARG_1_)
  FVECTOR3.Sub(WorkVec2, WorkVec, WorkVec1)
  FVECTOR3.normalize(WorkVec2)
  WorkRot:sety((Math.Atan2(WorkVec2:getx(), WorkVec2:getz())))
  Bullet.CreateEffectBullet(Bullet.CreateBullet("Tornadob", WorkVec1, WorkRot), "m_hi_tor_00", "M_HI_TOR_TOR0_0")
  if Enemy.IsConfuse(_ARG_0_.myHandle) then
    Bullet.SetCollision(Bullet.CreateBullet("Tornadob", WorkVec1, WorkRot), COLL_KIND_NO_CHECK, COLL_SHAPE_CYLINDER, 2, 3, _ARG_1_)
    Entity.SetLowerHalf(Bullet.CreateBullet("Tornadob", WorkVec1, WorkRot), 2.5)
  else
    Bullet.SetCollision(Bullet.CreateBullet("Tornadob", WorkVec1, WorkRot), COLL_KIND_ENEMY, COLL_SHAPE_CYLINDER, 2, 3, _ARG_1_)
    Entity.SetLowerHalf(Bullet.CreateBullet("Tornadob", WorkVec1, WorkRot), 2.5)
  end
  SetBulletAttackParam(Bullet.CreateBullet("Tornadob", WorkVec1, WorkRot), _ARG_0_.myHandle, 1)
  Bullet.SetHitAttackEffectName(Bullet.CreateBullet("Tornadob", WorkVec1, WorkRot), "m_hi_tor_00", "M_HI_TOR_HIT0_0 ")
  Bullet.SetMaxMoveDist(Bullet.CreateBullet("Tornadob", WorkVec1, WorkRot), 14400)
  Entity.SetTimer(Bullet.CreateBullet("Tornadob", WorkVec1, WorkRot), 720)
  EntityManager:GetEntity((Bullet.CreateBullet("Tornadob", WorkVec1, WorkRot))).owner = _ARG_0_.myHandle
  EntityManager:GetEntity((Bullet.CreateBullet("Tornadob", WorkVec1, WorkRot))).targetHandle = _ARG_0_.targetHandle
  EntityManager:GetEntity((Bullet.CreateBullet("Tornadob", WorkVec1, WorkRot))).index = _ARG_2_
end
function b01ex00.IsRaisingStormHandle(_ARG_0_)
  if Entity.IsAlive(_ARG_0_.RaisingHandle) == false then
    return 0
  end
  if Entity.IsAlive(_ARG_0_.RaisingHandle) == false then
    return 0
  end
  return 1
end
function b01ex00.setNumberEffect(_ARG_0_, _ARG_1_)
  WorkVec:set(0, 2, 0)
  WorkRot:set(0, 0, 0)
  _ARG_0_.DeatCountEffect = Entity.AttachEffect(_ARG_0_.targetHandle, "b01ex00", "B035_DTH_CNT" .. _ARG_1_ .. "_0", "Root", WorkVec, WorkRot)
end
function b01ex00.LoopEndEffect(_ARG_0_)
  Effect.LoopEnd(_ARG_0_.DeatCountEffect)
  _ARG_0_.loopEndTaimer = ATTACK_PARAM.DeathTimer
end
function b01ex00.setCaptureEffect(_ARG_0_)
  WorkVec:set(0, 0, 0)
  WorkRot:set(0, 0, 0)
  _ARG_0_.DeatCaptureEffect = Entity.AttachEffect(_ARG_0_.targetHandle, "b01ex00", "B035_DTH_HIT0_0", "center", WorkVec, WorkRot)
  Effect.SetAttachNoRot(_ARG_0_.DeatCaptureEffect, true)
end
function b01ex00.setCaptureEndEffect(_ARG_0_)
  WorkVec:set(0, 0, 0)
  WorkRot:set(0, 0, 0)
  Entity.GetWorldPos(WorkVec, _ARG_0_.targetHandle, 2)
  Effect.LoopEnd(_ARG_0_.restraintHandle)
  Effect.LoopEnd(_ARG_0_.handDeattHandle)
  Effect.LoopEnd(_ARG_0_.DeatCaptureEffect)
  Effect.SetAttachNoRot(Entity.SetEffect(_ARG_0_.targetHandle, "b01ex00", "B035_DTH_BIN2_0", WorkVec, WorkRot), true)
end
function b01ex00.setWhipCaptureEffect(_ARG_0_)
  WorkVec:set(0, 0, 0)
  WorkRot:set(0, 0, 0)
  _ARG_0_.DeatCaptureEffect = Entity.AttachEffect(_ARG_0_.targetHandle, "b01ex00", "B035_WIP_HIT0_0", "hara", WorkVec, WorkRot)
  Effect.SetAttachNoRot(_ARG_0_.DeatCaptureEffect, true)
end
function b01ex00.setLaserBlade(_ARG_0_, _ARG_1_, _ARG_2_)
  WorkVec:set(0, 0, 0)
  if _ARG_1_ == _UPVALUE0_ then
    if Effect.IsAlive(_ARG_0_.RightBladeHandle) == false then
      WorkRot:set(DegToRad(90), DegToRad(90), 0)
      _ARG_0_.RightBladeHandle = Entity.AttachEffectInIndex(_ARG_0_.myHandle, "b01ex00", "B035_BLD_BLD0_0", _UPVALUE1_, WorkVec, WorkRot)
    end
  elseif _ARG_1_ == _UPVALUE2_ then
    if Effect.IsAlive(_ARG_0_.LeftBladeHandle) == false then
      WorkRot:set(DegToRad(90), DegToRad(90), 0)
      _ARG_0_.LeftBladeHandle = Entity.AttachEffectInIndex(_ARG_0_.myHandle, "b01ex00", "B035_BLD_BLD0_0", _UPVALUE3_, WorkVec, WorkRot)
    end
  elseif _ARG_1_ == _UPVALUE4_ then
    if Effect.IsAlive(_ARG_0_.BothBladeHandle) == false then
      WorkRot:set(DegToRad(90), DegToRad(90), 0)
      _ARG_0_.BothBladeHandle = Entity.AttachEffectInIndex(_ARG_0_.myHandle, "b01ex00", "B035_BLD_BLD1_0", _ARG_2_, WorkVec, WorkRot)
    end
  else
    if Effect.IsAlive(_ARG_0_.RightBladeHandle) == false then
      WorkRot:set(DegToRad(90), DegToRad(90), 0)
      _ARG_0_.RightBladeHandle = Entity.AttachEffectInIndex(_ARG_0_.myHandle, "b01ex00", "B035_BLD_BLD0_0", _UPVALUE1_, WorkVec, WorkRot)
    end
    if Effect.IsAlive(_ARG_0_.LeftBladeHandle) == false then
      WorkRot:set(DegToRad(90), DegToRad(90), 0)
      _ARG_0_.LeftBladeHandle = Entity.AttachEffectInIndex(_ARG_0_.myHandle, "b01ex00", "B035_BLD_BLD0_0", _UPVALUE3_, WorkVec, WorkRot)
    end
  end
end
function b01ex00.deleteLaserBlade(_ARG_0_, _ARG_1_)
  if _ARG_1_ == _UPVALUE0_ then
    if Effect.IsAlive(_ARG_0_.RightBladeHandle) then
      Effect.LoopEnd(_ARG_0_.RightBladeHandle)
      _ARG_0_.RightBladeHandle = NULL_HANDLE
    end
  elseif _ARG_1_ == _UPVALUE1_ then
    if Effect.IsAlive(_ARG_0_.LeftBladeHandle) then
      Effect.LoopEnd(_ARG_0_.LeftBladeHandle)
      _ARG_0_.LeftBladeHandle = NULL_HANDLE
    end
  elseif _ARG_1_ == _UPVALUE2_ then
    if Effect.IsAlive(_ARG_0_.BothBladeHandle) then
      Effect.LoopEnd(_ARG_0_.BothBladeHandle)
      _ARG_0_.BothBladeHandle = NULL_HANDLE
    end
  else
    if Effect.IsAlive(_ARG_0_.RightBladeHandle) then
      Effect.LoopEnd(_ARG_0_.RightBladeHandle)
      _ARG_0_.RightBladeHandle = NULL_HANDLE
    end
    if Effect.IsAlive(_ARG_0_.LeftBladeHandle) then
      Effect.LoopEnd(_ARG_0_.LeftBladeHandle)
      _ARG_0_.LeftBladeHandle = NULL_HANDLE
    end
    if Effect.IsAlive(_ARG_0_.BothBladeHandle) then
      Effect.LoopEnd(_ARG_0_.BothBladeHandle)
      _ARG_0_.BothBladeHandle = NULL_HANDLE
    end
  end
end
function b01ex00.OnInit(_ARG_0_, _ARG_1_)
  _UPVALUE0_ = Entity.GetMotionIndex(_ARG_1_, "010")
  _UPVALUE1_ = Entity.GetMotionIndex(_ARG_1_, "011")
  _UPVALUE2_ = Entity.GetMotionIndex(_ARG_1_, "030")
  _UPVALUE3_ = Entity.GetMotionIndex(_ARG_1_, "040")
  _UPVALUE4_ = Entity.GetMotionIndex(_ARG_1_, "060")
  _UPVALUE5_ = Entity.GetMotionIndex(_ARG_1_, "061")
  _UPVALUE6_ = Entity.GetMotionIndex(_ARG_1_, "062")
  _UPVALUE7_ = Entity.GetMotionIndex(_ARG_1_, "200")
  _UPVALUE8_ = Entity.GetMotionIndex(_ARG_1_, "202")
  _UPVALUE9_ = Entity.GetMotionIndex(_ARG_1_, "220")
  _UPVALUE10_ = Entity.GetMotionIndex(_ARG_1_, "221")
  _UPVALUE11_ = Entity.GetMotionIndex(_ARG_1_, "222")
  _UPVALUE12_ = Entity.GetMotionIndex(_ARG_1_, "223")
  _UPVALUE13_ = Entity.GetMotionIndex(_ARG_1_, "224")
  _UPVALUE14_ = Entity.GetMotionIndex(_ARG_1_, "225")
  _UPVALUE15_ = Entity.GetMotionIndex(_ARG_1_, "300")
  _UPVALUE16_ = Entity.GetMotionIndex(_ARG_1_, "310")
  _UPVALUE17_ = Entity.GetMotionIndex(_ARG_1_, "311")
  _UPVALUE18_ = Entity.GetMotionIndex(_ARG_1_, "320")
  _UPVALUE19_ = Entity.GetMotionIndex(_ARG_1_, "330")
  _UPVALUE20_ = Entity.GetMotionIndex(_ARG_1_, "340")
  _UPVALUE21_ = Entity.GetMotionIndex(_ARG_1_, "341")
  _UPVALUE22_ = Entity.GetMotionIndex(_ARG_1_, "342")
  _UPVALUE23_ = Entity.GetMotionIndex(_ARG_1_, "350")
  _UPVALUE24_ = Entity.GetMotionIndex(_ARG_1_, "360")
  _UPVALUE25_ = Entity.GetMotionIndex(_ARG_1_, "361")
  _UPVALUE26_ = Entity.GetMotionIndex(_ARG_1_, "362")
  _UPVALUE27_ = Entity.GetMotionIndex(_ARG_1_, "363")
  _UPVALUE28_ = Entity.GetMotionIndex(_ARG_1_, "370")
  _UPVALUE29_ = Entity.GetMotionIndex(_ARG_1_, "371")
  _UPVALUE30_ = Entity.GetMotionIndex(_ARG_1_, "380")
  _UPVALUE31_ = Entity.GetMotionIndex(_ARG_1_, "400")
  _UPVALUE32_ = Entity.GetMotionIndex(_ARG_1_, "410")
  _ARG_0_.myHandle = _ARG_1_
  _ARG_0_.Speed = 0
  _ARG_0_.targetHandle = NULL_HANDLE
  _ARG_0_.restraintHandle = NULL_HANDLE
  _ARG_0_.handDeattHandle = NULL_HANDLE
  _ARG_0_.DeatCountEffect = NULL_HANDLE
  _ARG_0_.DeatCaptureEffect = NULL_HANDLE
  _ARG_0_.RightBladeHandle = NULL_HANDLE
  _ARG_0_.LeftBladeHandle = NULL_HANDLE
  _ARG_0_.BothBladeHandle = NULL_HANDLE
  _ARG_0_.TimeSlipEffHandle = NULL_HANDLE
  _ARG_0_.TimeSlipHitHandle = NULL_HANDLE
  _ARG_0_.WhipHandle = NULL_HANDLE
  _ARG_0_.megaHandle = NULL_HANDLE
  _ARG_0_.TimeSoundHandle = NULL_HANDLE
  _ARG_0_.camera = NULL_HANDLE
  _ARG_0_.TimeDmageFlag = 0
  _ARG_0_.owner = NULL_HANDLE
  _ARG_0_.DeatEffectSize = 0
  _ARG_0_.Restraint_Death_Hit_Cnt = 5
  _ARG_0_.WarpMoveEffect = NULL_HANDLE
  _ARG_0_.whipHit = 0
  _ARG_0_.PhotonTimer = 0
  _ARG_0_.PhotonEffect = NULL_HANDLE
  _ARG_0_.PhotonEffect2 = NULL_HANDLE
  _ARG_0_.WhipBullet = NULL_HANDLE
  _ARG_0_.oldPlayerMuteki = 0
  _ARG_0_.RaisingStormFlag = 0
  _ARG_0_.RaisingHandle = NULL_HANDLE
  _ARG_0_.RaisingStormHandle = NULL_HANDLE
  _ARG_0_.saveHP = 0
  _ARG_0_.myCopyID = 0
  _ARG_0_.GuardFlag = 0
  _ARG_0_.CopyTime = 0
  _ARG_0_.DamageCnt = 0
  _ARG_0_.reflectFlag = 0
  _ARG_0_.reflectRetrun = 0
  _ARG_0_.Death_Cnt = 0
  _ARG_0_.step = 0
  _ARG_0_.workStep = 0
  _ARG_0_.workStep2 = 0
  _ARG_0_.predator = 0
  _ARG_0_.MoveFlag = 0
  _ARG_0_.HitFlag = 0
  _ARG_0_.Timer = 0
  _ARG_0_.RandomCouner = 0
  _ARG_0_.RandomStateCouner = 0
  _ARG_0_.WorpFlag = 0
  _ARG_0_.WhipSize = 0
  _ARG_0_.BanishuFlagNumber = 0
  _ARG_0_.NowHP = 0
  _ARG_0_.DamageReactionT = 0
  _ARG_0_.DamageCnt = 0
  _ARG_0_.nextAttackID = 0
  _ARG_0_.stack = Stack:Create()
  _ARG_0_.playerDlinkCount = 0
  _ARG_0_.BanishuFlag = false
  _ARG_0_.evadeTimer = 0
  _ARG_0_.evadeFlag = false
  _ARG_0_.loopEndTaimer = 0
  _ARG_0_.aerialTimer = 0
  _ARG_0_.aerialFlag = false
  _ARG_0_.aerialslamFlag = 0
  _ARG_0_.countCura = 0
  _ARG_0_.isAttackRool = 0
  _ARG_0_.is = 0
  if B01EX_INIT_PARAM == false then
    B01EX_INIT_PARAM = true
    _UPVALUE33_.Action_Dist_n1_HP50over = Enemy.GetExtraParam(_ARG_1_, "ActDistn1") * Enemy.GetExtraParam(_ARG_1_, "ActDistn1")
    _UPVALUE33_.Action_Dist_n2_HP50over = Enemy.GetExtraParam(_ARG_1_, "ActDistn2") * Enemy.GetExtraParam(_ARG_1_, "ActDistn2")
    _UPVALUE33_.Action_Dist_n1_HP50ander = Enemy.GetExtraParam(_ARG_1_, "ActDistn1_2") * Enemy.GetExtraParam(_ARG_1_, "ActDistn1_2")
    _UPVALUE33_.Action_Dist_n2_HP50ander = Enemy.GetExtraParam(_ARG_1_, "ActDistn2_2") * Enemy.GetExtraParam(_ARG_1_, "ActDistn2_2")
    _UPVALUE33_.TimeSlipRate = Enemy.GetExtraParam(_ARG_1_, "TimeSRate") / 100
    _UPVALUE33_.CounterStartCnt = Enemy.GetExtraParam(_ARG_1_, "CounterCnt")
    _UPVALUE33_.DamageGuard = Enemy.GetExtraParam(_ARG_1_, "GuardRate") / 100
    _UPVALUE33_.DamageWarp = Enemy.GetExtraParam(_ARG_1_, "WarpRate") / 100
    _UPVALUE33_.ShootDamageWarp = Enemy.GetExtraParam(_ARG_1_, "SEvaRate") / 100
    _UPVALUE33_.Banishu_time = Enemy.GetExtraParam(_ARG_1_, "BaniTime") * 60
    _UPVALUE33_.CopyTime = Enemy.GetExtraParam(_ARG_1_, "CopyTime") * 60
    _UPVALUE33_.LaserFrame = Enemy.GetExtraParam(_ARG_1_, "LFrame")
    _UPVALUE33_.LaserEndFrame = Enemy.GetExtraParam(_ARG_1_, "LEndFrame")
    _UPVALUE33_.LaserNFrame = Enemy.GetExtraParam(_ARG_1_, "LNTimer") * 60
    ATTACK_PARAM[_UPVALUE34_].Speed = Enemy.GetExtraParam(_ARG_1_, "TornSpeed")
    ATTACK_PARAM[_UPVALUE34_].Homing = Enemy.GetExtraParam(_ARG_1_, "TornHoming")
    ATTACK_PARAM[_UPVALUE35_].EndDamagePoint = Enemy.GetExtraParam(_ARG_1_, "CopyHP")
    ATTACK_PARAM.DeathTimer = Enemy.GetExtraParam(_ARG_1_, "DeathTimer")
  end
  _ARG_0_.targetPos = FVECTOR3.new(0, 0, 0)
  _ARG_0_.velocity = FVECTOR3.new(0, 0, 0)
  _ARG_0_:initCopyMan()
  Entity.SetMovementCollRadius(_ARG_0_.myHandle, 0.5)
  Entity.SetLowerHalf(_ARG_0_.myHandle, 0.7)
  Entity.EnableBodyColl(_ARG_0_.myHandle, 1)
  Entity.EnableDamageColl(_ARG_0_.myHandle, 1)
  Entity.EnableLockon(_ARG_0_.myHandle, 0)
  Entity.EnableGravity(_ARG_0_.myHandle, 1)
  Player.SetBossCamera("b01ex00")
  Enemy.IsAllEnemyWaiting()
  Entity.SetDropShadowDistance(_ARG_0_.myHandle, 100)
  Enemy.EnableNoVanish(_ARG_0_.myHandle, 1)
  if Enemy.IsAllEnemyWaiting() == true then
    _ARG_0_:GotoState("Standby")
  else
    _ARG_0_:GotoState("Appear")
    Entity.EnableLockon(_ARG_0_.myHandle, 1)
  end
  for _FORV_5_ = 0, 7 do
    if Player.GetDeckCommondKind(_FORV_5_) == COMMAND_KIND_Cure or Player.GetDeckCommondKind(_FORV_5_) == COMMAND_KIND_Cura or Player.GetDeckCommondKind(_FORV_5_) == COMMAND_KIND_Curaga or Player.GetDeckCommondKind(_FORV_5_) == COMMAND_KIND_FriendCure or Player.GetDeckCommondKind(_FORV_5_) == COMMAND_KIND_FriendCura or Player.GetDeckCommondKind(_FORV_5_) == COMMAND_KIND_FriendCuraga then
      _ARG_0_.countCura = _ARG_0_.countCura + 1
    end
  end
  for _FORV_5_ = 0, 7 do
    if Player.GetActDeckCommondKind(_FORV_5_) == COMMAND_KIND_ThunderRoll or Player.GetActDeckCommondKind(_FORV_5_) == COMMAND_KIND_FireRoll or Player.GetActDeckCommondKind(_FORV_5_) == COMMAND_KIND_IceSlide then
      _ARG_0_.isAttackRool = 1
    end
  end
end
function b01ex00.OnDamage(_ARG_0_, _ARG_1_)
  Entity.EnableGravity(_ARG_0_.myHandle, 1)
  if _ARG_0_.BanishuFlag == true then
    return 1
  end
  if COPYMAN.isDouble == true then
    _ARG_0_.saveHP = _ARG_0_.saveHP + Entity.GetDamagePoint(_ARG_0_.myHandle)
    if _ARG_0_.saveHP > ATTACK_PARAM[_UPVALUE0_].EndDamagePoint and _ARG_0_:CheckDeadFlag() == true then
      _ARG_0_:GotoState("DeadCopy")
      return 1
    end
    return 1
  end
  if _ARG_0_:GetState() == "TimeSlip" or _ARG_0_:GetState() == "CrossAttack_fom_TimeSlip" or _ARG_0_:GetState() == "Tornado_TimeSlip" or _ARG_0_:GetState() == "Kakatootoshi_TimeSlip" or _ARG_0_:GetState() == "Guard" or _ARG_0_:GetState() == "WarpMove_Counter" or _ARG_0_:GetState() == "MegaFlare" or _ARG_0_:GetState() == "Whip_Rush" then
    if _ARG_0_:GetState() == "CrossAttack_fom_TimeSlip" then
    else
      return 1
    end
  elseif (_ARG_1_ == ATK_KIND_DMG_BLOW or _ARG_1_ == ATK_KIND_DMG_BIG or _ARG_1_ == ATK_KIND_DMG_SMALL) and _ARG_0_.DamageCnt > _UPVALUE1_.TimeslipInCnt and Script.Random() < _UPVALUE1_.TimeSlipRate and Player.IsMuteki(_ARG_0_.targetHandle) == false then
    _ARG_0_.DamageCnt = 0
    _ARG_0_.stack:clear()
    _ARG_0_.stack:push("TimeSlip")
    _ARG_0_:GotoState(_ARG_0_.stack:pop(1))
    return 1
  end
  _ARG_0_.DamageCnt = _ARG_0_.DamageCnt + 1
end
function b01ex00.OnDamageBefore(_ARG_0_, _ARG_1_)
  if _ARG_1_ == ATK_KIND_DETONE or _ARG_1_ == ATK_KIND_TORNADO or _ARG_1_ == ATK_KIND_AERO then
    return 1
  end
  if COPYMAN.isDouble == true then
    _ARG_0_.saveHP = _ARG_0_.saveHP + Entity.GetDamagePoint(_ARG_0_.myHandle)
    if 1 > Entity.GetHp(_ARG_0_.myHandle) - Entity.GetDamagePoint(_ARG_0_.myHandle) and _ARG_0_:CheckDeadFlag() == true then
      _ARG_0_:GotoState("DeadCopy")
      return 1
    end
    return
  end
  if _ARG_1_ == ATK_KIND_DMG_TOSS then
    Script.OutTask(_ARG_0_.camera)
    Enemy.EnableGeneralPurposeAttackColl(_ARG_0_.myHandle, 0)
    if _ARG_0_.aerialslamFlag == 0 then
      print("TOSS\130\197\131_\131\129\129[\131W\130\240\142\243\130\175\130\189\130\230\n")
      _ARG_0_.aerialslamFlag = 1
    end
  end
  _ARG_0_.NowHP = Enemy.GetHp(_ARG_0_.myHandle)
  if _ARG_0_:GetState() == "TimeSlip" or _ARG_0_:GetState() == "Tornado_TimeSlip" or _ARG_0_:GetState() == "Kakatootoshi_TimeSlip" or _ARG_0_:GetState() == "Guard" or _ARG_0_:GetState() == "WarpMove_Counter" or _ARG_0_:GetState() == "Whip_Rush" then
    if _ARG_0_:GetState() == "CrossAttack_fom_TimeSlip" then
    else
      return 1
    end
  else
    if _ARG_0_:IsPlShootShot() and Script.Random() < _UPVALUE0_.ShootDamageWarp then
      _ARG_0_.stack:clear()
      _ARG_0_.stack:push("BattleIdling")
      _ARG_0_.stack:push("WarpMove_Counter")
      _ARG_0_:GotoState(_ARG_0_.stack:pop(1))
      return 1
    end
    _ARG_0_.DamageCnt = _ARG_0_.DamageCnt + 1
    if _ARG_0_.DamageCnt > _UPVALUE0_.CounterStartCnt then
      if Script.Random() < _UPVALUE0_.DamageGuard then
        _ARG_0_.stack:clear()
        _ARG_0_.stack:push("BattleIdling")
        if _ARG_0_:GetState() ~= "Idling" then
          _ARG_0_.stack:push((_ARG_0_:GetState()))
        end
        _ARG_0_.stack:push("Guard")
        _ARG_0_:GotoState(_ARG_0_.stack:pop(1))
        Script.OutTask(_ARG_0_.camera)
        Enemy.EnableGeneralPurposeAttackColl(_ARG_0_.myHandle, 0)
        return 1
      elseif Script.Random() < _UPVALUE0_.DamageWarp + _UPVALUE0_.DamageGuard then
        _ARG_0_.stack:clear()
        _ARG_0_.stack:push("BattleIdling")
        if _ARG_0_:GetState() ~= "Idling" then
          _ARG_0_.stack:push((_ARG_0_:GetState()))
        end
        _ARG_0_.stack:push("WarpMove_Counter")
        _ARG_0_:GotoState(_ARG_0_.stack:pop(1))
        Script.OutTask(_ARG_0_.camera)
        Enemy.EnableGeneralPurposeAttackColl(_ARG_0_.myHandle, 0)
        return 1
      end
    else
    end
  end
  _ARG_0_:setLaserBlade()
  _ARG_0_:deleteLaserBlade(_UPVALUE1_)
end
function b01ex00.OnReturnDamage(_ARG_0_)
  _ARG_0_:setState("BattleIdling")
end
function b01ex00.OnReflect(_ARG_0_)
  _ARG_0_.reflectFlag = 1
  return _ARG_0_.reflectRetrun
end
function b01ex00.OnHitAttack(_ARG_0_)
  _ARG_0_.HitFlag = 1
end
function b01ex00.OnDead(_ARG_0_)
  if COPYMAN.isDouble == true then
    _ARG_0_:GotoState("DeadCopy")
  else
    _ARG_0_:GotoState("Dead")
    SetupBossDead(_ARG_0_.myHandle)
  end
  return 1
end
function b01ex00.OnDestroy(_ARG_0_)
  if _ARG_0_:GetState() == "TimeSlip" or _ARG_0_:GetState() == "CrossAttack_fom_TimeSlip" or _ARG_0_:GetState() == "Tornado_TimeSlip" or _ARG_0_:GetState() == "Kakatootoshi_TimeSlip" then
    Script.SetObjStart(OBJ_BIT_PLAYER, OBJ_BIT_PRIZE, OBJ_BIT_BULLET)
    Player.StartDeck(_ARG_0_.targetHandle)
  end
  Effect.LoopEnd(_ARG_0_.TimeSlipEffHandle)
  Effect.LoopEnd(_ARG_0_.restraintHandle)
  Effect.LoopEnd(_ARG_0_.handDeattHandle)
  Effect.LoopEnd(_ARG_0_.DeatCaptureEffect)
  Sound.Reset(123)
  Script.OutTask(_ARG_0_.camera)
end
function b01ex00.OnUpdateLast(_ARG_0_)
  if Effect.IsAlive(_ARG_0_.restraintHandle) then
    Entity.GetWorldPos(WorkVec, _ARG_0_.myHandle, _UPVALUE0_)
    Entity.GetWorldPos(WorkVec1, _ARG_0_.targetHandle, 2)
    FVECTOR3.Sub(WorkVec1, WorkVec1, WorkVec)
    WorkVec1:normalize()
    WorkVec2:set(0, 0, 0)
    WorkRot:set(-Math.Atan2(WorkVec1:gety(), Math.Sqrt(WorkVec1:getx() * WorkVec1:getx() + WorkVec1:getz() * WorkVec1:getz())), Math.Atan2(WorkVec1:getx(), WorkVec1:getz()), 0)
    Effect.UpdateCoord(_ARG_0_.restraintHandle, WorkVec2, WorkRot)
    if _ARG_0_.HitFlag >= 1 then
      Entity.GetWorldPos(WorkVec, _ARG_0_.myHandle, _UPVALUE0_)
      Entity.GetWorldPos(WorkVec1, _ARG_0_.targetHandle2, 2)
      FVECTOR3.Sub(WorkVec2, WorkVec1, WorkVec)
      WorkVec3:set(1, 1, WorkVec2:length() / 15)
      Effect.SetScale(_ARG_0_.restraintHandle, WorkVec3)
    end
  end
end
function b01ex00.RestHpRate(_ARG_0_)
  return Enemy.GetHp(_ARG_0_.myHandle) / Enemy.GetHpMax(_ARG_0_.myHandle)
end
function b01ex00.IsPlShootShot(_ARG_0_)
  Entity.GetLocalPos(WorkVec, _ARG_0_.myHandle)
  _ARG_0_.plShootBulletHandle = Player.GetNearBullet(_ARG_0_.targetHandle, WorkVec)
  return true
end
function b01ex00.IsDetone(_ARG_0_)
  Entity.GetLocalPos(WorkVec, _ARG_0_.myHandle)
  _ARG_0_.plShootBulletHandle = Player.GetNearBullet(_ARG_0_.targetHandle, WorkVec)
  if _ARG_0_.plShootBulletHandle ~= NULL_HANDLE then
    Entity.GetWorldPos(WorkVec, _ARG_0_.plShootBulletHandle)
    if WorkVec:gety() < 0.01 and Entity.CalcDistanceXZ(_ARG_0_.myHandle, _ARG_0_.plShootBulletHandle) < 3 then
      print("\131f\131g\131l\130\160\130\233\130\230\129B\n")
    end
  end
  return true
end
function b01ex00.SetingGuard(_ARG_0_)
  Entity.EnableGuard(_ARG_0_.myHandle, 1)
  Entity.EnableGuardPhysical(_ARG_0_.myHandle, 1)
  Entity.EnableGuardZero(_ARG_0_.myHandle, 1)
  Entity.EnableGuardFire(_ARG_0_.myHandle, 1)
  Entity.EnableGuardIce(_ARG_0_.myHandle, 1)
  Entity.EnableGuardDark(_ARG_0_.myHandle, 1)
  Entity.EnableGuardThunder(_ARG_0_.myHandle, 1)
  Entity.SetGuardDir(_ARG_0_.myHandle, 180)
  Entity.EnableGuardSpecial(_ARG_0_.myHandle, 1)
  Entity.EnableGuardAttack(_ARG_0_.myHandle, 1)
  Entity.EnableGuardZeroEx(_ARG_0_.myHandle, 1)
end
function b01ex00.EndGuard(_ARG_0_)
  Entity.EnableGuard(_ARG_0_.myHandle, 0)
  Entity.EnableGuardPhysical(_ARG_0_.myHandle, 0)
  Entity.EnableGuardZero(_ARG_0_.myHandle, 0)
  Entity.EnableGuardFire(_ARG_0_.myHandle, 0)
  Entity.EnableGuardIce(_ARG_0_.myHandle, 0)
  Entity.EnableGuardDark(_ARG_0_.myHandle, 0)
  Entity.EnableGuardThunder(_ARG_0_.myHandle, 0)
  Entity.SetGuardDir(_ARG_0_.myHandle, 0)
  Entity.EnableGuardSpecial(_ARG_0_.myHandle, 0)
  Entity.EnableGuardAttack(_ARG_0_.myHandle, 1)
  Entity.EnableGuardZeroEx(_ARG_0_.myHandle, 0)
end
function b01ex00.OnGuard(_ARG_0_)
  _ARG_0_.GuardFlag = 1
  Entity.GetWorldPos(WorkVec, _ARG_0_.myHandle, 2)
  Entity.GetRot(WorkRot, _ARG_0_.myHandle)
  Entity.SetEffect(_ARG_0_.myHandle, "b01ex00", "B035_GRD_SPH0_0", WorkVec, WorkRot)
  if Entity.GetDamageCategory(_ARG_0_.myHandle) == 9 and LASERBITMASTART.Num < 15 then
    _ARG_0_:CreateRandomBitCounter(_ARG_0_.myHandle)
    LASERBITMASTART.Num = LASERBITMASTART.Num + 1
  end
  Enemy.AddHp(_ARG_0_.myHandle, Entity.GetDamagePoint(_ARG_0_.myHandle))
end
function b01ex00.SetNextAttackID(_ARG_0_, _ARG_1_)
  if _ARG_1_ == "KonbAttack" then
    _ARG_0_.nextAttackID = _UPVALUE0_
  elseif _ARG_1_ == "DansingAttack" then
    _ARG_0_.nextAttackID = _UPVALUE1_
  elseif _ARG_1_ == "RashAttack" then
    _ARG_0_.nextAttackID = _UPVALUE2_
  elseif _ARG_1_ == "Whip_Rush" then
    _ARG_0_.nextAttackID = _UPVALUE3_
  elseif _ARG_1_ == "CrossAttack" then
    _ARG_0_.nextAttackID = _UPVALUE4_
  elseif _ARG_1_ == "TimeSlip" then
    _ARG_0_.nextAttackID = _UPVALUE5_
  elseif _ARG_1_ == "Banishu" then
    _ARG_0_.nextAttackID = _UPVALUE6_
  elseif _ARG_1_ == "Random_Laser" then
    _ARG_0_.nextAttackID = _UPVALUE7_
  elseif _ARG_1_ == "MegaFlare" then
    _ARG_0_.nextAttackID = _UPVALUE8_
  elseif _ARG_1_ == "Tornado" then
    _ARG_0_.nextAttackID = _UPVALUE9_
  elseif _ARG_1_ == "Restraint_Death" then
    _ARG_0_.nextAttackID = _UPVALUE10_
  elseif _ARG_1_ == "RaisingStorm" then
    _ARG_0_.nextAttackID = _UPVALUE11_
  elseif _ARG_1_ == "Meteor" then
    _ARG_0_.nextAttackID = _UPVALUE12_
  elseif _ARG_1_ == "Photoncharge" then
    _ARG_0_.nextAttackID = _UPVALUE13_
  elseif _ARG_1_ == "Double" then
    _ARG_0_.nextAttackID = _UPVALUE14_
  end
end
function b01ex00.replacedCrossIsDeath(_ARG_0_)
  if _ARG_0_.countCura >= 5 or _ARG_0_.isAttackRool == 1 then
    _ARG_0_.stack:push("Restraint_Death")
    nextState = "Restraint_Death"
  else
    _ARG_0_.stack:push("CrossAttack")
    nextState = "CrossAttack"
  end
end
function b01ex00.createStateList(_ARG_0_)
  nextState = ""
  _ARG_0_.nextAttack = 0
  _ARG_0_.stack:clear()
  _ARG_0_.stack:push("BattleIdling")
  if Script.Random() < 0.001 then
    _ARG_0_.stack:push("Idling")
  end
  if _ARG_0_.playerDlinkCount > 180 and _ARG_0_.BanishuFlag == false then
    _ARG_0_.stack:push("Banishu")
    nextState = "Banishu"
    _ARG_0_:SetNextAttackID(nextState)
    return
  end
  if _ARG_0_:RestHpRate() > 0.5 then
    if _ARG_0_:IsRaisingStormHandle() == 1 then
      _ARG_0_.stack:push("RaishingDash")
      return
    end
    if Entity.CalcDistanceSq(_ARG_0_.myHandle, _ARG_0_.targetHandle) < _UPVALUE0_.Action_Dist_n1_HP50over then
      _ARG_0_.stack:push("MoveCheck")
      if ATTACK_PARAM[_UPVALUE1_].Rate1 > Script.Random() then
        _ARG_0_.stack:push("KonbAttack")
        nextState = "KonbAttack"
      elseif ATTACK_PARAM[_UPVALUE1_].Rate1 + ATTACK_PARAM[_UPVALUE2_].Rate1 > Script.Random() then
        _ARG_0_.stack:push("DansingAttack")
        nextState = "DansingAttack"
      elseif ATTACK_PARAM[_UPVALUE1_].Rate1 + ATTACK_PARAM[_UPVALUE2_].Rate1 + ATTACK_PARAM[_UPVALUE3_].Rate1 > Script.Random() then
        _ARG_0_:replacedCrossIsDeath()
      elseif ATTACK_PARAM[_UPVALUE1_].Rate1 + ATTACK_PARAM[_UPVALUE2_].Rate1 + ATTACK_PARAM[_UPVALUE3_].Rate1 + ATTACK_PARAM[_UPVALUE4_].Rate1 > Script.Random() then
        _ARG_0_.stack:push("Tornado")
        nextState = "Tornado"
      elseif ATTACK_PARAM[_UPVALUE1_].Rate1 + ATTACK_PARAM[_UPVALUE2_].Rate1 + ATTACK_PARAM[_UPVALUE3_].Rate1 + ATTACK_PARAM[_UPVALUE4_].Rate1 + ATTACK_PARAM[_UPVALUE5_].Rate1 > Script.Random() then
        _ARG_0_.stack:push("BattleIdling")
        _ARG_0_.stack:push("Whip_Rush")
        nextState = "Whip_Rush"
      end
    elseif Entity.CalcDistanceSq(_ARG_0_.myHandle, _ARG_0_.targetHandle) < _UPVALUE0_.Action_Dist_n1_HP50ander then
      _ARG_0_.stack:push("MoveCheck")
      if ATTACK_PARAM[_UPVALUE6_].Rate1 > Script.Random() then
        _ARG_0_.stack:push("RashAttack")
        nextState = "RashAttack"
      elseif ATTACK_PARAM[_UPVALUE6_].Rate1 + ATTACK_PARAM[_UPVALUE3_].Rate11 > Script.Random() then
        _ARG_0_:replacedCrossIsDeath()
      elseif 0 > Script.Random() then
        _ARG_0_.stack:push("Random_Laser")
        nextState = "Random_Laser"
      elseif ATTACK_PARAM[_UPVALUE6_].Rate1 + ATTACK_PARAM[_UPVALUE3_].Rate11 + ATTACK_PARAM[_UPVALUE7_].Rate1 + ATTACK_PARAM[_UPVALUE4_].Rate11 > Script.Random() then
        _ARG_0_.stack:push("Tornado")
        nextState = "Tornado"
      elseif ATTACK_PARAM[_UPVALUE6_].Rate1 + ATTACK_PARAM[_UPVALUE3_].Rate11 + ATTACK_PARAM[_UPVALUE7_].Rate1 + ATTACK_PARAM[_UPVALUE4_].Rate11 + ATTACK_PARAM[_UPVALUE8_].Rate1 > Script.Random() then
        _ARG_0_.stack:push("RaishingDash")
        _ARG_0_.stack:push("RaisingStorm")
        nextState = "RaisingStorm"
      elseif 0 > Script.Random() then
        _ARG_0_.stack:push("Double")
        nextState = "Double"
      elseif ATTACK_PARAM[_UPVALUE6_].Rate1 + ATTACK_PARAM[_UPVALUE3_].Rate11 + ATTACK_PARAM[_UPVALUE7_].Rate1 + ATTACK_PARAM[_UPVALUE4_].Rate11 + ATTACK_PARAM[_UPVALUE8_].Rate1 + ATTACK_PARAM[_UPVALUE9_].Rate1 + ATTACK_PARAM[_UPVALUE5_].Rate11 > Script.Random() then
        _ARG_0_.stack:push("BattleIdling")
        _ARG_0_.stack:push("Whip_Rush")
        nextState = "Whip_Rush"
      elseif ATTACK_PARAM[_UPVALUE6_].Rate1 + ATTACK_PARAM[_UPVALUE3_].Rate11 + ATTACK_PARAM[_UPVALUE7_].Rate1 + ATTACK_PARAM[_UPVALUE4_].Rate11 + ATTACK_PARAM[_UPVALUE8_].Rate1 + ATTACK_PARAM[_UPVALUE9_].Rate1 + ATTACK_PARAM[_UPVALUE5_].Rate11 + ATTACK_PARAM[_UPVALUE10_].Rate1 > Script.Random() then
        _ARG_0_.stack:push("Photoncharge")
        nextState = "Photoncharge"
      end
    else
      _ARG_0_.stack:push("WarpMove")
      nextState = "WarpMove"
    end
  else
    if _ARG_0_.BanishuFlagNumber == 0 then
      _ARG_0_.BanishuFlagNumber = 1
      _ARG_0_.stack:push("MoveCheck")
      _ARG_0_.stack:push("Banishu")
      nextState = "Banishu"
      _ARG_0_.stack:push("OutMoveWorp")
      _ARG_0_:SetNextAttackID(nextState)
      return
    end
    if Entity.CalcDistanceSq(_ARG_0_.myHandle, _ARG_0_.targetHandle) < _UPVALUE0_.Action_Dist_n2_HP50over then
      _ARG_0_.stack:push("MoveCheck")
      if ATTACK_PARAM[_UPVALUE1_].Rate2 > Script.Random() then
        _ARG_0_.stack:push("KonbAttack")
        nextState = "KonbAttack"
      elseif ATTACK_PARAM[_UPVALUE1_].Rate2 + ATTACK_PARAM[_UPVALUE2_].Rate2 > Script.Random() then
        _ARG_0_.stack:push("DansingAttack")
        nextState = "DansingAttack"
      elseif ATTACK_PARAM[_UPVALUE1_].Rate2 + ATTACK_PARAM[_UPVALUE2_].Rate2 + ATTACK_PARAM[_UPVALUE3_].Rate2 > Script.Random() then
        _ARG_0_:replacedCrossIsDeath()
      elseif ATTACK_PARAM[_UPVALUE1_].Rate2 + ATTACK_PARAM[_UPVALUE2_].Rate2 + ATTACK_PARAM[_UPVALUE3_].Rate2 + ATTACK_PARAM[_UPVALUE4_].Rate2 > Script.Random() then
        _ARG_0_.stack:push("Tornado")
        nextState = "Tornado"
      elseif ATTACK_PARAM[_UPVALUE1_].Rate2 + ATTACK_PARAM[_UPVALUE2_].Rate2 + ATTACK_PARAM[_UPVALUE3_].Rate2 + ATTACK_PARAM[_UPVALUE4_].Rate2 + ATTACK_PARAM[_UPVALUE5_].Rate2 > Script.Random() then
        _ARG_0_.stack:push("Whip_Rush")
        nextState = "Whip_Rush"
      elseif 0 > Script.Random() then
        _ARG_0_.stack:push("Banishu")
        nextState = "Banishu"
      end
    elseif Entity.CalcDistanceSq(_ARG_0_.myHandle, _ARG_0_.targetHandle) < _UPVALUE0_.Action_Dist_n2_HP50ander then
      _ARG_0_.stack:push("MoveCheck")
      if _ARG_0_.BanishuFlag == true then
      end
      if ATTACK_PARAM[_UPVALUE6_].Rate2 > Script.Random() then
        _ARG_0_.stack:push("RashAttack")
        nextState = "RashAttack"
      elseif ATTACK_PARAM[_UPVALUE6_].Rate2 + ATTACK_PARAM[_UPVALUE3_].Rate22 > Script.Random() then
        _ARG_0_:replacedCrossIsDeath()
      elseif 0 > Script.Random() then
        _ARG_0_.stack:push("Random_Laser")
        nextState = "Random_Laser"
      elseif ATTACK_PARAM[_UPVALUE6_].Rate2 + ATTACK_PARAM[_UPVALUE3_].Rate22 + ATTACK_PARAM[_UPVALUE7_].Rate2 + ATTACK_PARAM[_UPVALUE4_].Rate2 > Script.Random() then
        _ARG_0_.stack:push("Tornado")
        nextState = "Tornado"
      elseif ATTACK_PARAM[_UPVALUE6_].Rate2 + ATTACK_PARAM[_UPVALUE3_].Rate22 + ATTACK_PARAM[_UPVALUE7_].Rate2 + ATTACK_PARAM[_UPVALUE4_].Rate2 + ATTACK_PARAM[_UPVALUE8_].Rate2 > Script.Random() then
        _ARG_0_.stack:push("RaisingStorm")
        nextState = "RaisingStorm"
      elseif 0 > Script.Random() then
        _ARG_0_.stack:push("Double")
        nextState = "Double"
      elseif ATTACK_PARAM[_UPVALUE6_].Rate2 + ATTACK_PARAM[_UPVALUE3_].Rate22 + ATTACK_PARAM[_UPVALUE7_].Rate2 + ATTACK_PARAM[_UPVALUE4_].Rate2 + ATTACK_PARAM[_UPVALUE8_].Rate2 + ATTACK_PARAM[_UPVALUE9_].Rate2 + ATTACK_PARAM[_UPVALUE5_].Rate2 > Script.Random() then
        _ARG_0_.stack:push("Whip_Rush")
        nextState = "Whip_Rush"
      elseif ATTACK_PARAM[_UPVALUE6_].Rate2 + ATTACK_PARAM[_UPVALUE3_].Rate22 + ATTACK_PARAM[_UPVALUE7_].Rate2 + ATTACK_PARAM[_UPVALUE4_].Rate2 + ATTACK_PARAM[_UPVALUE8_].Rate2 + ATTACK_PARAM[_UPVALUE9_].Rate2 + ATTACK_PARAM[_UPVALUE5_].Rate2 + ATTACK_PARAM[_UPVALUE10_].Rate2 > Script.Random() then
        _ARG_0_.stack:push("Photoncharge")
        nextState = "Photoncharge"
      elseif ATTACK_PARAM[_UPVALUE6_].Rate2 + ATTACK_PARAM[_UPVALUE3_].Rate22 + ATTACK_PARAM[_UPVALUE7_].Rate2 + ATTACK_PARAM[_UPVALUE4_].Rate2 + ATTACK_PARAM[_UPVALUE8_].Rate2 + ATTACK_PARAM[_UPVALUE9_].Rate2 + ATTACK_PARAM[_UPVALUE5_].Rate2 + ATTACK_PARAM[_UPVALUE10_].Rate2 + ATTACK_PARAM[_UPVALUE12_].Rate2 > Script.Random() then
        _ARG_0_.stack:push("MegaFlare")
        nextState = "MegaFlare"
      elseif ATTACK_PARAM[_UPVALUE6_].Rate2 + ATTACK_PARAM[_UPVALUE3_].Rate22 + ATTACK_PARAM[_UPVALUE7_].Rate2 + ATTACK_PARAM[_UPVALUE4_].Rate2 + ATTACK_PARAM[_UPVALUE8_].Rate2 + ATTACK_PARAM[_UPVALUE9_].Rate2 + ATTACK_PARAM[_UPVALUE5_].Rate2 + ATTACK_PARAM[_UPVALUE10_].Rate2 + ATTACK_PARAM[_UPVALUE12_].Rate2 + ATTACK_PARAM[_UPVALUE13_].Rate2 > Script.Random() then
        _ARG_0_.stack:push("Restraint_Death")
        nextState = "Restraint_Death"
      elseif ATTACK_PARAM[_UPVALUE6_].Rate2 + ATTACK_PARAM[_UPVALUE3_].Rate22 + ATTACK_PARAM[_UPVALUE7_].Rate2 + ATTACK_PARAM[_UPVALUE4_].Rate2 + ATTACK_PARAM[_UPVALUE8_].Rate2 + ATTACK_PARAM[_UPVALUE9_].Rate2 + ATTACK_PARAM[_UPVALUE5_].Rate2 + ATTACK_PARAM[_UPVALUE10_].Rate2 + ATTACK_PARAM[_UPVALUE12_].Rate2 + ATTACK_PARAM[_UPVALUE13_].Rate2 + ATTACK_PARAM[_UPVALUE14_].Rate2 > Script.Random() then
        _ARG_0_.stack:push("Meteor")
        nextState = "Meteor"
      elseif 0 > Script.Random() then
        _ARG_0_.stack:push("Banishu")
        nextState = "Banishu"
      end
    elseif 0 > Script.Random() then
      _ARG_0_.stack:push("Random_Laser")
      nextState = "Random_Laser"
    elseif ATTACK_PARAM[_UPVALUE7_].Rate3 + ATTACK_PARAM[_UPVALUE12_].Rate3 > Script.Random() then
      _ARG_0_.stack:push("MegaFlare")
      nextState = "MegaFlare"
    elseif ATTACK_PARAM[_UPVALUE7_].Rate3 + ATTACK_PARAM[_UPVALUE12_].Rate3 + ATTACK_PARAM[_UPVALUE14_].Rate3 > Script.Random() then
      _ARG_0_.stack:push("Meteor")
      nextState = "Meteor"
    elseif ATTACK_PARAM[_UPVALUE7_].Rate3 + ATTACK_PARAM[_UPVALUE12_].Rate3 + ATTACK_PARAM[_UPVALUE14_].Rate3 + ATTACK_PARAM[_UPVALUE15_].Rate3 > Script.Random() then
      _ARG_0_.stack:push("WarpMove")
      nextState = "WarpMove"
    elseif 0 > Script.Random() then
      _ARG_0_.stack:push("Banishu")
      nextState = "Banishu"
    end
  end
  _ARG_0_:SetNextAttackID(nextState)
end
function b01ex00.Whip(_ARG_0_)
  if 1 == 1 then
    Entity.GetWorldPos(_ARG_0_.PlayerPos, _ARG_0_.targetHandle, 2)
    Entity.GetWorldPos(_ARG_0_.NeckPos, _ARG_0_.myHandle, B20CD_BONENUMBER_NECK)
    Entity.GetRot(_ARG_0_.rot, _ARG_0_.myHandle)
    FVECTOR3.Sub(_ARG_0_.workVec, _ARG_0_.PlayerPos, _ARG_0_.NeckPos)
    FVECTOR3.normalize(_ARG_0_.workVec)
    _ARG_0_.oldAngly, _ARG_0_.oldAnglx = HomingDegree(_ARG_0_.oldAngly, Math.Atan2(_ARG_0_.workVec:getx(), _ARG_0_.workVec:getz()) - _ARG_0_.rot:gety(), 2, (Entity.GetFrameRate(_ARG_0_.myHandle))), HomingDegree(_ARG_0_.oldAnglx, -Math.Atan2(_ARG_0_.workVec:gety(), Math.Sqrt(_ARG_0_.workVec:getz() * _ARG_0_.workVec:getz() + _ARG_0_.workVec:getx() * _ARG_0_.workVec:getx())), 2, (Entity.GetFrameRate(_ARG_0_.myHandle)))
    _ARG_0_.NeckAngle:set(0, ROUND_PI(HomingDegree(_ARG_0_.oldAngly, Math.Atan2(_ARG_0_.workVec:getx(), _ARG_0_.workVec:getz()) - _ARG_0_.rot:gety(), 2, (Entity.GetFrameRate(_ARG_0_.myHandle))) * -1), ROUND_PI((HomingDegree(_ARG_0_.oldAnglx, -Math.Atan2(_ARG_0_.workVec:gety(), Math.Sqrt(_ARG_0_.workVec:getz() * _ARG_0_.workVec:getz() + _ARG_0_.workVec:getx() * _ARG_0_.workVec:getx())), 2, (Entity.GetFrameRate(_ARG_0_.myHandle))))))
    if _ARG_0_.NeckAngle:gety() > _ARG_0_.LookMaxMin[0].Max then
      _ARG_0_.NeckAngle:sety(_ARG_0_.LookMaxMin[0].Max)
    end
    if _ARG_0_.NeckAngle:gety() < _ARG_0_.LookMaxMin[0].Min then
      _ARG_0_.NeckAngle:sety(_ARG_0_.LookMaxMin[0].Min)
    end
    if _ARG_0_.NeckAngle:getz() > _ARG_0_.LookMaxMin[1].Max then
      _ARG_0_.NeckAngle:setz(_ARG_0_.LookMaxMin[1].Max)
    end
    if _ARG_0_.NeckAngle:getz() < _ARG_0_.LookMaxMin[1].Min then
      _ARG_0_.NeckAngle:setz(_ARG_0_.LookMaxMin[1].Min)
    end
    Entity.RotateBoneZYX(_ARG_0_.myHandle, B20CD_BONENUMBER_NECK, _ARG_0_.NeckAngle)
  else
    _ARG_0_.oldAnglx = 0
    _ARG_0_.oldAngly = 0
  end
end
function b01ex00.Debug(_ARG_0_)
  if Script.IsDebugCheckAttack() then
    for _FORV_5_, _FORV_6_ in pairs(_UPVALUE0_) do
      if _FORV_6_ == _ARG_0_:GetState() then
        return
      end
    end
    if _UPVALUE0_[Script.GetDebugAttackNumber() + 1] ~= nil then
      _ARG_0_.stack:clear()
      _ARG_0_.stack:push("Idling")
      _ARG_0_.targetHandle = Player.GetHandle()
      _ARG_0_:GotoState(_UPVALUE0_[Script.GetDebugAttackNumber() + 1])
    end
  end
end
function b01ex00.OnUpdate(_ARG_0_)
  if Player.GetCommandKind(_ARG_0_.targetHandle) == COMMAND_KIND_AerialSlam then
    if _ARG_0_.aerialTimer > 0 or COPYMAN.isDouble == true or _ARG_0_.aerialslamFlag == 0 then
    elseif _ARG_0_.aerialslamFlag == 1 and COPYMAN.isDouble == false and _ARG_0_:GetState() ~= "Whip_Rush" and _ARG_0_:GetState() ~= "Guard" and _ARG_0_:GetState() ~= "Double" and _ARG_0_:GetState() ~= "DeadCopy" and _ARG_0_:GetState() ~= "StartDouble" and _ARG_0_:GetState() ~= "Photoncharge" and _ARG_0_:GetState() ~= "Banishu" then
      _ARG_0_:setLaserBlade()
      _ARG_0_:deleteLaserBlade(_UPVALUE0_)
      _ARG_0_.stack:push("BattleIdling")
      _ARG_0_.stack:push("OutMoveWorp")
      _ARG_0_:GotoState(_ARG_0_.stack:pop(1))
      _ARG_0_.aerialTimer = 1
      _ARG_0_.aerialslamFlag = 3
      print("\131G\131\138\131A\131\139\131X\131\137\131\128\130\197\130\183\130\230\130\190\130\169\148\240\130\175\130\233\130\230\129B\n")
    end
  elseif _ARG_0_.aerialslamFlag == 3 or _ARG_0_:GetState() == "KonbAttack" or _ARG_0_:GetState() == "DansingAttack" then
    _ARG_0_.aerialslamFlag = 1
  end
  _ARG_0_:Update()
  _ARG_0_:Debug()
  if _ARG_0_.BanishuFlag == true then
    _ARG_0_.BanishuTimer = _ARG_0_.BanishuTimer - 1 * Entity.GetFrameRate(_ARG_0_.myHandle)
    if 0 > _ARG_0_.BanishuTimer then
      _ARG_0_:EnablePredator(false)
    end
  end
  _ARG_0_.CopyTime = _ARG_0_.CopyTime - 1 * Entity.GetFrameRate(_ARG_0_.myHandle)
  if _ARG_0_:GetState() ~= "DeadCopy" and _ARG_0_:GetState() ~= "Double" and 0 > _ARG_0_.CopyTime and COPYMAN.isDouble == true then
    if _ARG_0_:CheckDeadFlag() == true then
      _ARG_0_:GotoState("DeadCopy")
      return 1
    else
      _ARG_0_.stack:clear()
      _ARG_0_:GotoState("Idling")
      return 1
    end
  end
  _ARG_0_.DamageCnt = _ARG_0_.DamageCnt - 0.027777778 * Entity.GetFrameRate(_ARG_0_.myHandle)
  if 0 > _ARG_0_.DamageCnt then
    _ARG_0_.DamageCnt = 0
  end
  if Entity.IsAlive(_ARG_0_.RaisingHandle) == false then
    if 0 < Player.IsDLink(_ARG_0_.targetHandle) then
      _ARG_0_.playerDlinkCount = _ARG_0_.playerDlinkCount + 1 * Entity.GetFrameRate(_ARG_0_.myHandle)
    else
      _ARG_0_.playerDlinkCount = 0
    end
  end
  if 0 >= _ARG_0_.evadeTimer then
    _ARG_0_.evadeTimer = 0
  else
    _ARG_0_.evadeTimer = _ARG_0_.evadeTimer - 1 * Entity.GetFrameRate(_ARG_0_.myHandle)
  end
  if _ARG_0_.aerialTimer <= 0 then
    _ARG_0_.aerialTimer = 0
  else
    _ARG_0_.aerialTimer = _ARG_0_.aerialTimer - 1 * Entity.GetFrameRate(_ARG_0_.myHandle)
  end
end
EntityFactory:Add("b01ex00", function(_ARG_0_)
  return (b01ex00:new())
end)
EntityFactory:Add("RandomBit", function(_ARG_0_)
  return (_UPVALUE0_:new())
end)
EntityFactory:Add("RandomBit2", function(_ARG_0_)
  return (_UPVALUE0_:new())
end)
EntityFactory:Add("RandomLaser", function(_ARG_0_)
  return (_UPVALUE0_:new())
end)
EntityFactory:Add("WhipRushb", function(_ARG_0_)
  return (_UPVALUE0_:new())
end)
EntityFactory:Add("MegaFlarb", function(_ARG_0_)
  return (_UPVALUE0_:new())
end)
EntityFactory:Add("MegaFlarBomb", function(_ARG_0_)
  return (_UPVALUE0_:new())
end)
EntityFactory:Add("Tornadob", function(_ARG_0_)
  return (_UPVALUE0_:new())
end)
EntityFactory:Add("Meteorb", function(_ARG_0_)
  return (_UPVALUE0_:new())
end)
EntityFactory:Add("meteorBGHit", function(_ARG_0_)
  return (_UPVALUE0_:new())
end)
EntityFactory:Add("Raisingb", function(_ARG_0_)
  return (_UPVALUE0_:new())
end)
EntityFactory:Add("CrossB", function(_ARG_0_)
  return (_UPVALUE0_:new())
end)
